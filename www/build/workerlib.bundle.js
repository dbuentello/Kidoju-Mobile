/*! Copyright ©2013-2018 Memba® Sarl. All rights reserved. - Version 0.3.8 dated Fri Jun 08 2018 19:53:13 */
!function(){var t="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||this||{},e=t._,n=Array.prototype,r=Object.prototype,i="undefined"!=typeof Symbol?Symbol.prototype:null,u=n.push,s=n.slice,a=r.toString,o=r.hasOwnProperty,c=Array.isArray,l=Object.keys,h=Object.create,f=function(){},p=function(t){return t instanceof p?t:this instanceof p?void(this._wrapped=t):new p(t)};"undefined"==typeof exports||exports.nodeType?t._=p:("undefined"!=typeof module&&!module.nodeType&&module.exports&&(exports=module.exports=p),exports._=p),p.VERSION="1.9.1";var y,g=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,u){return t.call(e,n,r,i,u)}}return function(){return t.apply(e,arguments)}},d=function(t,e,n){return p.iteratee!==y?p.iteratee(t,e):null==t?p.identity:p.isFunction(t)?g(t,e,n):p.isObject(t)&&!p.isArray(t)?p.matcher(t):p.property(t)};p.iteratee=y=function(t,e){return d(t,e,1/0)};var m=function(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var u=Array(e+1);for(i=0;i<e;i++)u[i]=arguments[i];return u[e]=r,t.apply(this,u)}},v=function(t){if(!p.isObject(t))return{};if(h)return h(t);f.prototype=t;var e=new f;return f.prototype=null,e},E=function(t){return function(e){return null==e?void 0:e[t]}},x=function(t,e){return null!=t&&o.call(t,e)},b=function(t,e){for(var n=e.length,r=0;r<n;r++){if(null==t)return;t=t[e[r]]}return n?t:void 0},_=Math.pow(2,53)-1,w=E("length"),A=function(t){var e=w(t);return"number"==typeof e&&e>=0&&e<=_};p.each=p.forEach=function(t,e,n){e=g(e,n);var r,i;if(A(t))for(r=0,i=t.length;r<i;r++)e(t[r],r,t);else{var u=p.keys(t);for(r=0,i=u.length;r<i;r++)e(t[u[r]],u[r],t)}return t},p.map=p.collect=function(t,e,n){e=d(e,n);for(var r=!A(t)&&p.keys(t),i=(r||t).length,u=Array(i),s=0;s<i;s++){var a=r?r[s]:s;u[s]=e(t[a],a,t)}return u};var F=function(t){return function(e,n,r,i){var u=arguments.length>=3;return function(e,n,r,i){var u=!A(e)&&p.keys(e),s=(u||e).length,a=t>0?0:s-1;for(i||(r=e[u?u[a]:a],a+=t);a>=0&&a<s;a+=t){var o=u?u[a]:a;r=n(r,e[o],o,e)}return r}(e,g(n,i,4),r,u)}};p.reduce=p.foldl=p.inject=F(1),p.reduceRight=p.foldr=F(-1),p.find=p.detect=function(t,e,n){var r=(A(t)?p.findIndex:p.findKey)(t,e,n);if(void 0!==r&&-1!==r)return t[r]},p.filter=p.select=function(t,e,n){var r=[];return e=d(e,n),p.each(t,function(t,n,i){e(t,n,i)&&r.push(t)}),r},p.reject=function(t,e,n){return p.filter(t,p.negate(d(e)),n)},p.every=p.all=function(t,e,n){e=d(e,n);for(var r=!A(t)&&p.keys(t),i=(r||t).length,u=0;u<i;u++){var s=r?r[u]:u;if(!e(t[s],s,t))return!1}return!0},p.some=p.any=function(t,e,n){e=d(e,n);for(var r=!A(t)&&p.keys(t),i=(r||t).length,u=0;u<i;u++){var s=r?r[u]:u;if(e(t[s],s,t))return!0}return!1},p.contains=p.includes=p.include=function(t,e,n,r){return A(t)||(t=p.values(t)),("number"!=typeof n||r)&&(n=0),p.indexOf(t,e,n)>=0},p.invoke=m(function(t,e,n){var r,i;return p.isFunction(e)?i=e:p.isArray(e)&&(r=e.slice(0,-1),e=e[e.length-1]),p.map(t,function(t){var u=i;if(!u){if(r&&r.length&&(t=b(t,r)),null==t)return;u=t[e]}return null==u?u:u.apply(t,n)})}),p.pluck=function(t,e){return p.map(t,p.property(e))},p.where=function(t,e){return p.filter(t,p.matcher(e))},p.findWhere=function(t,e){return p.find(t,p.matcher(e))},p.max=function(t,e,n){var r,i,u=-1/0,s=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var a=0,o=(t=A(t)?t:p.values(t)).length;a<o;a++)null!=(r=t[a])&&r>u&&(u=r);else e=d(e,n),p.each(t,function(t,n,r){((i=e(t,n,r))>s||i===-1/0&&u===-1/0)&&(u=t,s=i)});return u},p.min=function(t,e,n){var r,i,u=1/0,s=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var a=0,o=(t=A(t)?t:p.values(t)).length;a<o;a++)null!=(r=t[a])&&r<u&&(u=r);else e=d(e,n),p.each(t,function(t,n,r){((i=e(t,n,r))<s||i===1/0&&u===1/0)&&(u=t,s=i)});return u},p.shuffle=function(t){return p.sample(t,1/0)},p.sample=function(t,e,n){if(null==e||n)return A(t)||(t=p.values(t)),t[p.random(t.length-1)];var r=A(t)?p.clone(t):p.values(t),i=w(r);e=Math.max(Math.min(e,i),0);for(var u=i-1,s=0;s<e;s++){var a=p.random(s,u),o=r[s];r[s]=r[a],r[a]=o}return r.slice(0,e)},p.sortBy=function(t,e,n){var r=0;return e=d(e,n),p.pluck(p.map(t,function(t,n,i){return{value:t,index:r++,criteria:e(t,n,i)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index-e.index}),"value")};var D=function(t,e){return function(n,r,i){var u=e?[[],[]]:{};return r=d(r,i),p.each(n,function(e,i){var s=r(e,i,n);t(u,e,s)}),u}};p.groupBy=D(function(t,e,n){x(t,n)?t[n].push(e):t[n]=[e]}),p.indexBy=D(function(t,e,n){t[n]=e}),p.countBy=D(function(t,e,n){x(t,n)?t[n]++:t[n]=1});var k=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;p.toArray=function(t){return t?p.isArray(t)?s.call(t):p.isString(t)?t.match(k):A(t)?p.map(t,p.identity):p.values(t):[]},p.size=function(t){return null==t?0:A(t)?t.length:p.keys(t).length},p.partition=D(function(t,e,n){t[n?0:1].push(e)},!0),p.first=p.head=p.take=function(t,e,n){return null==t||t.length<1?null==e?void 0:[]:null==e||n?t[0]:p.initial(t,t.length-e)},p.initial=function(t,e,n){return s.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},p.last=function(t,e,n){return null==t||t.length<1?null==e?void 0:[]:null==e||n?t[t.length-1]:p.rest(t,Math.max(0,t.length-e))},p.rest=p.tail=p.drop=function(t,e,n){return s.call(t,null==e||n?1:e)},p.compact=function(t){return p.filter(t,Boolean)};var C=function(t,e,n,r){for(var i=(r=r||[]).length,u=0,s=w(t);u<s;u++){var a=t[u];if(A(a)&&(p.isArray(a)||p.isArguments(a)))if(e)for(var o=0,c=a.length;o<c;)r[i++]=a[o++];else C(a,e,n,r),i=r.length;else n||(r[i++]=a)}return r};p.flatten=function(t,e){return C(t,e,!1)},p.without=m(function(t,e){return p.difference(t,e)}),p.uniq=p.unique=function(t,e,n,r){p.isBoolean(e)||(r=n,n=e,e=!1),null!=n&&(n=d(n,r));for(var i=[],u=[],s=0,a=w(t);s<a;s++){var o=t[s],c=n?n(o,s,t):o;e&&!n?(s&&u===c||i.push(o),u=c):n?p.contains(u,c)||(u.push(c),i.push(o)):p.contains(i,o)||i.push(o)}return i},p.union=m(function(t){return p.uniq(C(t,!0,!0))}),p.intersection=function(t){for(var e=[],n=arguments.length,r=0,i=w(t);r<i;r++){var u=t[r];if(!p.contains(e,u)){var s;for(s=1;s<n&&p.contains(arguments[s],u);s++);s===n&&e.push(u)}}return e},p.difference=m(function(t,e){return e=C(e,!0,!0),p.filter(t,function(t){return!p.contains(e,t)})}),p.unzip=function(t){for(var e=t&&p.max(t,w).length||0,n=Array(e),r=0;r<e;r++)n[r]=p.pluck(t,r);return n},p.zip=m(p.unzip),p.object=function(t,e){for(var n={},r=0,i=w(t);r<i;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n};var S=function(t){return function(e,n,r){n=d(n,r);for(var i=w(e),u=t>0?0:i-1;u>=0&&u<i;u+=t)if(n(e[u],u,e))return u;return-1}};p.findIndex=S(1),p.findLastIndex=S(-1),p.sortedIndex=function(t,e,n,r){for(var i=(n=d(n,r,1))(e),u=0,s=w(t);u<s;){var a=Math.floor((u+s)/2);n(t[a])<i?u=a+1:s=a}return u};var M=function(t,e,n){return function(r,i,u){var a=0,o=w(r);if("number"==typeof u)t>0?a=u>=0?u:Math.max(u+o,a):o=u>=0?Math.min(u+1,o):u+o+1;else if(n&&u&&o)return r[u=n(r,i)]===i?u:-1;if(i!=i)return(u=e(s.call(r,a,o),p.isNaN))>=0?u+a:-1;for(u=t>0?a:o-1;u>=0&&u<o;u+=t)if(r[u]===i)return u;return-1}};p.indexOf=M(1,p.findIndex,p.sortedIndex),p.lastIndexOf=M(-1,p.findLastIndex),p.range=function(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),u=0;u<r;u++,t+=n)i[u]=t;return i},p.chunk=function(t,e){if(null==e||e<1)return[];for(var n=[],r=0,i=t.length;r<i;)n.push(s.call(t,r,r+=e));return n};var I=function(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);var u=v(t.prototype),s=t.apply(u,i);return p.isObject(s)?s:u};p.bind=m(function(t,e,n){if(!p.isFunction(t))throw new TypeError("Bind must be called on a function");var r=m(function(i){return I(t,r,e,this,n.concat(i))});return r}),p.partial=m(function(t,e){var n=p.partial.placeholder,r=function(){for(var i=0,u=e.length,s=Array(u),a=0;a<u;a++)s[a]=e[a]===n?arguments[i++]:e[a];for(;i<arguments.length;)s.push(arguments[i++]);return I(t,r,this,this,s)};return r}),p.partial.placeholder=p,p.bindAll=m(function(t,e){var n=(e=C(e,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=e[n];t[r]=p.bind(t[r],t)}}),p.memoize=function(t,e){var n=function(r){var i=n.cache,u=""+(e?e.apply(this,arguments):r);return x(i,u)||(i[u]=t.apply(this,arguments)),i[u]};return n.cache={},n},p.delay=m(function(t,e,n){return setTimeout(function(){return t.apply(null,n)},e)}),p.defer=p.partial(p.delay,p,1),p.throttle=function(t,e,n){var r,i,u,s,a=0;n||(n={});var o=function(){a=!1===n.leading?0:p.now(),r=null,s=t.apply(i,u),r||(i=u=null)},c=function(){var c=p.now();a||!1!==n.leading||(a=c);var l=e-(c-a);return i=this,u=arguments,l<=0||l>e?(r&&(clearTimeout(r),r=null),a=c,s=t.apply(i,u),r||(i=u=null)):r||!1===n.trailing||(r=setTimeout(o,l)),s};return c.cancel=function(){clearTimeout(r),a=0,r=i=u=null},c},p.debounce=function(t,e,n){var r,i,u=function(e,n){r=null,n&&(i=t.apply(e,n))},s=m(function(s){if(r&&clearTimeout(r),n){var a=!r;r=setTimeout(u,e),a&&(i=t.apply(this,s))}else r=p.delay(u,e,this,s);return i});return s.cancel=function(){clearTimeout(r),r=null},s},p.wrap=function(t,e){return p.partial(e,t)},p.negate=function(t){return function(){return!t.apply(this,arguments)}},p.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}},p.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},p.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},p.once=p.partial(p.before,2),p.restArguments=m;var B=!{toString:null}.propertyIsEnumerable("toString"),O=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],N=function(t,e){var n=O.length,i=t.constructor,u=p.isFunction(i)&&i.prototype||r,s="constructor";for(x(t,s)&&!p.contains(e,s)&&e.push(s);n--;)(s=O[n])in t&&t[s]!==u[s]&&!p.contains(e,s)&&e.push(s)};p.keys=function(t){if(!p.isObject(t))return[];if(l)return l(t);var e=[];for(var n in t)x(t,n)&&e.push(n);return B&&N(t,e),e},p.allKeys=function(t){if(!p.isObject(t))return[];var e=[];for(var n in t)e.push(n);return B&&N(t,e),e},p.values=function(t){for(var e=p.keys(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=t[e[i]];return r},p.mapObject=function(t,e,n){e=d(e,n);for(var r=p.keys(t),i=r.length,u={},s=0;s<i;s++){var a=r[s];u[a]=e(t[a],a,t)}return u},p.pairs=function(t){for(var e=p.keys(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=[e[i],t[e[i]]];return r},p.invert=function(t){for(var e={},n=p.keys(t),r=0,i=n.length;r<i;r++)e[t[n[r]]]=n[r];return e},p.functions=p.methods=function(t){var e=[];for(var n in t)p.isFunction(t[n])&&e.push(n);return e.sort()};var T=function(t,e){return function(n){var r=arguments.length;if(e&&(n=Object(n)),r<2||null==n)return n;for(var i=1;i<r;i++)for(var u=arguments[i],s=t(u),a=s.length,o=0;o<a;o++){var c=s[o];e&&void 0!==n[c]||(n[c]=u[c])}return n}};p.extend=T(p.allKeys),p.extendOwn=p.assign=T(p.keys),p.findKey=function(t,e,n){e=d(e,n);for(var r,i=p.keys(t),u=0,s=i.length;u<s;u++)if(e(t[r=i[u]],r,t))return r};var P=function(t,e,n){return e in n};p.pick=m(function(t,e){var n={},r=e[0];if(null==t)return n;p.isFunction(r)?(e.length>1&&(r=g(r,e[1])),e=p.allKeys(t)):(r=P,e=C(e,!1,!1),t=Object(t));for(var i=0,u=e.length;i<u;i++){var s=e[i],a=t[s];r(a,s,t)&&(n[s]=a)}return n}),p.omit=m(function(t,e){var n,r=e[0];return p.isFunction(r)?(r=p.negate(r),e.length>1&&(n=e[1])):(e=p.map(C(e,!1,!1),String),r=function(t,n){return!p.contains(e,n)}),p.pick(t,r,n)}),p.defaults=T(p.allKeys,!0),p.create=function(t,e){var n=v(t);return e&&p.extendOwn(n,e),n},p.clone=function(t){return p.isObject(t)?p.isArray(t)?t.slice():p.extend({},t):t},p.tap=function(t,e){return e(t),t},p.isMatch=function(t,e){var n=p.keys(e),r=n.length;if(null==t)return!r;for(var i=Object(t),u=0;u<r;u++){var s=n[u];if(e[s]!==i[s]||!(s in i))return!1}return!0};var q,R;q=function(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var i=typeof t;return("function"===i||"object"===i||"object"==typeof e)&&R(t,e,n,r)},R=function(t,e,n,r){t instanceof p&&(t=t._wrapped),e instanceof p&&(e=e._wrapped);var u=a.call(t);if(u!==a.call(e))return!1;switch(u){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return i.valueOf.call(t)===i.valueOf.call(e)}var s="[object Array]"===u;if(!s){if("object"!=typeof t||"object"!=typeof e)return!1;var o=t.constructor,c=e.constructor;if(o!==c&&!(p.isFunction(o)&&o instanceof o&&p.isFunction(c)&&c instanceof c)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],r=r||[];for(var l=n.length;l--;)if(n[l]===t)return r[l]===e;if(n.push(t),r.push(e),s){if((l=t.length)!==e.length)return!1;for(;l--;)if(!q(t[l],e[l],n,r))return!1}else{var h,f=p.keys(t);if(l=f.length,p.keys(e).length!==l)return!1;for(;l--;)if(h=f[l],!x(e,h)||!q(t[h],e[h],n,r))return!1}return n.pop(),r.pop(),!0},p.isEqual=function(t,e){return q(t,e)},p.isEmpty=function(t){return null==t||(A(t)&&(p.isArray(t)||p.isString(t)||p.isArguments(t))?0===t.length:0===p.keys(t).length)},p.isElement=function(t){return!(!t||1!==t.nodeType)},p.isArray=c||function(t){return"[object Array]"===a.call(t)},p.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},p.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(t){p["is"+t]=function(e){return a.call(e)==="[object "+t+"]"}}),p.isArguments(arguments)||(p.isArguments=function(t){return x(t,"callee")});var j=t.document&&t.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof j&&(p.isFunction=function(t){return"function"==typeof t||!1}),p.isFinite=function(t){return!p.isSymbol(t)&&isFinite(t)&&!isNaN(parseFloat(t))},p.isNaN=function(t){return p.isNumber(t)&&isNaN(t)},p.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===a.call(t)},p.isNull=function(t){return null===t},p.isUndefined=function(t){return void 0===t},p.has=function(t,e){if(!p.isArray(e))return x(t,e);for(var n=e.length,r=0;r<n;r++){var i=e[r];if(null==t||!o.call(t,i))return!1;t=t[i]}return!!n},p.noConflict=function(){return t._=e,this},p.identity=function(t){return t},p.constant=function(t){return function(){return t}},p.noop=function(){},p.property=function(t){return p.isArray(t)?function(e){return b(e,t)}:E(t)},p.propertyOf=function(t){return null==t?function(){}:function(e){return p.isArray(e)?b(t,e):t[e]}},p.matcher=p.matches=function(t){return t=p.extendOwn({},t),function(e){return p.isMatch(e,t)}},p.times=function(t,e,n){var r=Array(Math.max(0,t));e=g(e,n,1);for(var i=0;i<t;i++)r[i]=e(i);return r},p.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},p.now=Date.now||function(){return(new Date).getTime()};var G={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},L=p.invert(G),$=function(t){var e=function(e){return t[e]},n="(?:"+p.keys(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(i,e):t}};p.escape=$(G),p.unescape=$(L),p.result=function(t,e,n){p.isArray(e)||(e=[e]);var r=e.length;if(!r)return p.isFunction(n)?n.call(t):n;for(var i=0;i<r;i++){var u=null==t?void 0:t[e[i]];void 0===u&&(u=n,i=r),t=p.isFunction(u)?u.call(t):u}return t};var V=0;p.uniqueId=function(t){var e=++V+"";return t?t+e:e},p.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var z=/(.)^/,U={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},H=/\\|'|\r|\n|\u2028|\u2029/g,K=function(t){return"\\"+U[t]};p.template=function(t,e,n){!e&&n&&(e=n),e=p.defaults({},e,p.templateSettings);var r=RegExp([(e.escape||z).source,(e.interpolate||z).source,(e.evaluate||z).source].join("|")+"|$","g"),i=0,u="__p+='";t.replace(r,function(e,n,r,s,a){return u+=t.slice(i,a).replace(H,K),i=a+e.length,n?u+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?u+="'+\n((__t=("+r+"))==null?'':__t)+\n'":s&&(u+="';\n"+s+"\n__p+='"),e}),u+="';\n",e.variable||(u="with(obj||{}){\n"+u+"}\n"),u="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+u+"return __p;\n";var s;try{s=new Function(e.variable||"obj","_",u)}catch(t){throw t.source=u,t}var a=function(t){return s.call(this,t,p)},o=e.variable||"obj";return a.source="function("+o+"){\n"+u+"}",a},p.chain=function(t){var e=p(t);return e._chain=!0,e};var Z=function(t,e){return t._chain?p(e).chain():e};p.mixin=function(t){return p.each(p.functions(t),function(e){var n=p[e]=t[e];p.prototype[e]=function(){var t=[this._wrapped];return u.apply(t,arguments),Z(this,n.apply(p,t))}}),p},p.mixin(p),p.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=n[t];p.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],Z(this,n)}}),p.each(["concat","join","slice"],function(t){var e=n[t];p.prototype[t]=function(){return Z(this,e.apply(this._wrapped,arguments))}}),p.prototype.value=function(){return this._wrapped},p.prototype.valueOf=p.prototype.toJSON=p.prototype.value,p.prototype.toString=function(){return String(this._wrapped)},"function"==typeof define&&define.amd&&define("underscore",[],function(){return p})}(),function(t,e){t.KAS={},function(t){var e=function(){var t=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},e=[1,7],n=[1,17],r=[1,13],i=[1,14],u=[1,15],s=[1,32],a=[1,22],o=[1,23],c=[1,24],l=[1,25],h=[1,26],f=[1,33],p=[1,27],y=[1,28],g=[1,29],d=[1,30],m=[1,20],v=[1,36],E=[1,37],x=[5,6,8,10,33,35,41,43,45],b=[1,39],_=[1,40],w=[5,6,8,10,12,14,16,19,21,22,28,29,30,31,32,33,34,35,37,39,41,42,43,44,45,46],A=[10,16,19,21,22,28,29,30,31,32,34,37,39,42,43,44,46],F=[5,6,8,10,12,14,16,18,19,21,22,28,29,30,31,32,33,34,35,37,39,41,42,43,44,45,46],D={trace:function(){},yy:{},symbols_:{error:2,equation:3,expression:4,SIGN:5,EOF:6,additive:7,"+":8,multiplicative:9,"-":10,triglog:11,"*":12,negative:13,"/":14,trig:15,TRIG:16,trigfunc:17,"^":18,TRIGINV:19,logbase:20,ln:21,log:22,_:23,subscriptable:24,power:25,primitive:26,variable:27,VAR:28,CONST:29,INT:30,FLOAT:31,"{":32,"}":33,"(":34,")":35,function:36,FUNC:37,invocation:38,sqrt:39,"[":40,"]":41,abs:42,"|":43,"LEFT|":44,"RIGHT|":45,FRAC:46,$accept:0,$end:1},terminals_:{2:"error",5:"SIGN",6:"EOF",8:"+",10:"-",12:"*",14:"/",16:"TRIG",18:"^",19:"TRIGINV",21:"ln",22:"log",23:"_",28:"VAR",29:"CONST",30:"INT",31:"FLOAT",32:"{",33:"}",34:"(",35:")",37:"FUNC",39:"sqrt",40:"[",41:"]",42:"abs",43:"|",44:"LEFT|",45:"RIGHT|",46:"FRAC"},productions_:[0,[3,4],[3,2],[3,1],[4,1],[7,3],[7,3],[7,1],[9,2],[9,3],[9,3],[9,1],[13,2],[13,1],[15,1],[17,1],[17,3],[17,1],[20,1],[20,1],[20,3],[11,2],[11,2],[11,1],[25,3],[25,1],[27,1],[24,3],[24,1],[24,1],[24,1],[24,1],[24,3],[24,3],[36,1],[38,4],[38,4],[38,7],[38,4],[38,3],[38,3],[38,4],[26,1],[26,1],[26,7]],performAction:function(t,e,n,r,i,u,s){var a=u.length-1;switch(i){case 1:return new r.Eq(u[a-3],u[a-2],u[a-1]);case 2:return u[a-1];case 3:return new r.Add([]);case 4:case 7:case 11:case 13:case 15:case 20:case 23:case 25:case 42:case 43:this.$=u[a];break;case 5:this.$=r.Add.createOrAppend(u[a-2],u[a]);break;case 6:this.$=r.Add.createOrAppend(u[a-2],r.Mul.handleNegative(u[a],"subtract"));break;case 8:this.$=r.Mul.fold(r.Mul.createOrAppend(u[a-1],u[a]));break;case 9:this.$=r.Mul.fold(r.Mul.createOrAppend(u[a-2],u[a]));break;case 10:this.$=r.Mul.fold(r.Mul.handleDivide(u[a-2],u[a]));break;case 12:this.$=r.Mul.handleNegative(u[a]);break;case 14:case 17:this.$=[t];break;case 16:this.$=u[a-2].concat(u[a]);break;case 18:this.$=r.Log.natural();break;case 19:this.$=r.Log.common();break;case 21:this.$=r.Trig.create(u[a-1],u[a]);break;case 22:this.$=r.Log.create(u[a-1],u[a]);break;case 24:this.$=new r.Pow(u[a-2],u[a]);break;case 26:case 34:this.$=t;break;case 27:this.$=new r.Var(u[a-2],u[a]);break;case 28:this.$=new r.Var(u[a]);break;case 29:this.$=new r.Const(t.toLowerCase());break;case 30:this.$=r.Int.create(Number(t));break;case 31:this.$=r.Float.create(Number(t));break;case 32:this.$=u[a-1].completeParse();break;case 33:this.$=u[a-1].completeParse().addHint("parens");break;case 35:case 36:this.$=r.Pow.sqrt(u[a-1]);break;case 37:this.$=new r.Pow.nthroot(u[a-1],u[a-4]);break;case 38:case 39:case 40:this.$=new r.Abs(u[a-1]);break;case 41:this.$=new r.Func(u[a-3],u[a-1]);break;case 44:this.$=r.Mul.handleDivide(u[a-4],u[a-1])}},table:[{3:1,4:2,6:[1,3],7:4,9:5,10:e,11:8,13:6,15:12,16:n,17:9,19:r,20:10,21:i,22:u,24:18,25:11,26:16,27:21,28:s,29:a,30:o,31:c,32:l,34:h,36:31,37:f,38:19,39:p,42:y,43:g,44:d,46:m},{1:[3]},{5:[1,34],6:[1,35]},{1:[2,3]},t([5,6],[2,4],{8:v,10:E}),t(x,[2,7],{17:9,20:10,25:11,15:12,26:16,24:18,38:19,27:21,36:31,11:38,12:b,14:_,16:n,19:r,21:i,22:u,28:s,29:a,30:o,31:c,32:l,34:h,37:f,39:p,42:y,44:d,46:m}),t(w,[2,11]),{10:e,11:8,13:41,15:12,16:n,17:9,19:r,20:10,21:i,22:u,24:18,25:11,26:16,27:21,28:s,29:a,30:o,31:c,32:l,34:h,36:31,37:f,38:19,39:p,42:y,43:g,44:d,46:m},t(w,[2,13]),{10:e,11:8,13:42,15:12,16:n,17:9,19:r,20:10,21:i,22:u,24:18,25:11,26:16,27:21,28:s,29:a,30:o,31:c,32:l,34:h,36:31,37:f,38:19,39:p,42:y,43:g,44:d,46:m},{10:e,11:8,13:43,15:12,16:n,17:9,19:r,20:10,21:i,22:u,24:18,25:11,26:16,27:21,28:s,29:a,30:o,31:c,32:l,34:h,36:31,37:f,38:19,39:p,42:y,43:g,44:d,46:m},t(w,[2,23]),t(A,[2,15],{18:[1,44]}),t(A,[2,17]),t(A,[2,18]),t(A,[2,19],{23:[1,45]}),t(w,[2,25],{18:[1,46]}),t([10,16,18,19,21,22,28,29,30,31,32,34,37,39,42,43,44,46],[2,14]),t(F,[2,42]),t(F,[2,43]),{32:[1,47]},t(F,[2,28],{23:[1,48]}),t(F,[2,29]),t(F,[2,30]),t(F,[2,31]),{7:49,9:5,10:e,11:8,13:6,15:12,16:n,17:9,19:r,20:10,21:i,22:u,24:18,25:11,26:16,27:21,28:s,29:a,30:o,31:c,32:l,34:h,36:31,37:f,38:19,39:p,42:y,43:g,44:d,46:m},{7:50,9:5,10:e,11:8,13:6,15:12,16:n,17:9,19:r,20:10,21:i,22:u,24:18,25:11,26:16,27:21,28:s,29:a,30:o,31:c,32:l,34:h,36:31,37:f,38:19,39:p,42:y,43:g,44:d,46:m},{32:[1,52],34:[1,51],40:[1,53]},{34:[1,54]},{7:55,9:5,10:e,11:8,13:6,15:12,16:n,17:9,19:r,20:10,21:i,22:u,24:18,25:11,26:16,27:21,28:s,29:a,30:o,31:c,32:l,34:h,36:31,37:f,38:19,39:p,42:y,43:g,44:d,46:m},{7:56,9:5,10:e,11:8,13:6,15:12,16:n,17:9,19:r,20:10,21:i,22:u,24:18,25:11,26:16,27:21,28:s,29:a,30:o,31:c,32:l,34:h,36:31,37:f,38:19,39:p,42:y,43:g,44:d,46:m},{34:[1,57]},t([5,6,8,10,12,14,16,18,19,21,22,23,28,29,30,31,32,33,34,35,37,39,41,42,43,44,45,46],[2,26]),{34:[2,34]},{4:58,7:4,9:5,10:e,11:8,13:6,15:12,16:n,17:9,19:r,20:10,21:i,22:u,24:18,25:11,26:16,27:21,28:s,29:a,30:o,31:c,32:l,34:h,36:31,37:f,38:19,39:p,42:y,43:g,44:d,46:m},{1:[2,2]},{9:59,10:e,11:8,13:6,15:12,16:n,17:9,19:r,20:10,21:i,22:u,24:18,25:11,26:16,27:21,28:s,29:a,30:o,31:c,32:l,34:h,36:31,37:f,38:19,39:p,42:y,43:g,44:d,46:m},{9:60,10:e,11:8,13:6,15:12,16:n,17:9,19:r,20:10,21:i,22:u,24:18,25:11,26:16,27:21,28:s,29:a,30:o,31:c,32:l,34:h,36:31,37:f,38:19,39:p,42:y,43:g,44:d,46:m},t(w,[2,8]),{10:e,11:8,13:61,15:12,16:n,17:9,19:r,20:10,21:i,22:u,24:18,25:11,26:16,27:21,28:s,29:a,30:o,31:c,32:l,34:h,36:31,37:f,38:19,39:p,42:y,43:g,44:d,46:m},{10:e,11:8,13:62,15:12,16:n,17:9,19:r,20:10,21:i,22:u,24:18,25:11,26:16,27:21,28:s,29:a,30:o,31:c,32:l,34:h,36:31,37:f,38:19,39:p,42:y,43:g,44:d,46:m},t(w,[2,12]),t(w,[2,21]),t(w,[2,22]),{10:e,11:8,13:63,15:12,16:n,17:9,19:r,20:10,21:i,22:u,24:18,25:11,26:16,27:21,28:s,29:a,30:o,31:c,32:l,34:h,36:31,37:f,38:19,39:p,42:y,43:g,44:d,46:m},{24:64,27:21,28:s,29:a,30:o,31:c,32:l,34:h},{10:e,11:8,13:65,15:12,16:n,17:9,19:r,20:10,21:i,22:u,24:18,25:11,26:16,27:21,28:s,29:a,30:o,31:c,32:l,34:h,36:31,37:f,38:19,39:p,42:y,43:g,44:d,46:m},{7:66,9:5,10:e,11:8,13:6,15:12,16:n,17:9,19:r,20:10,21:i,22:u,24:18,25:11,26:16,27:21,28:s,29:a,30:o,31:c,32:l,34:h,36:31,37:f,38:19,39:p,42:y,43:g,44:d,46:m},{24:67,27:21,28:s,29:a,30:o,31:c,32:l,34:h},{8:v,10:E,33:[1,68]},{8:v,10:E,35:[1,69]},{7:70,9:5,10:e,11:8,13:6,15:12,16:n,17:9,19:r,20:10,21:i,22:u,24:18,25:11,26:16,27:21,28:s,29:a,30:o,31:c,32:l,34:h,36:31,37:f,38:19,39:p,42:y,43:g,44:d,46:m},{7:71,9:5,10:e,11:8,13:6,15:12,16:n,17:9,19:r,20:10,21:i,22:u,24:18,25:11,26:16,27:21,28:s,29:a,30:o,31:c,32:l,34:h,36:31,37:f,38:19,39:p,42:y,43:g,44:d,46:m},{7:72,9:5,10:e,11:8,13:6,15:12,16:n,17:9,19:r,20:10,21:i,22:u,24:18,25:11,26:16,27:21,28:s,29:a,30:o,31:c,32:l,34:h,36:31,37:f,38:19,39:p,42:y,43:g,44:d,46:m},{7:73,9:5,10:e,11:8,13:6,15:12,16:n,17:9,19:r,20:10,21:i,22:u,24:18,25:11,26:16,27:21,28:s,29:a,30:o,31:c,32:l,34:h,36:31,37:f,38:19,39:p,42:y,43:g,44:d,46:m},{8:v,10:E,43:[1,74]},{8:v,10:E,45:[1,75]},{7:76,9:5,10:e,11:8,13:6,15:12,16:n,17:9,19:r,20:10,21:i,22:u,24:18,25:11,26:16,27:21,28:s,29:a,30:o,31:c,32:l,34:h,36:31,37:f,38:19,39:p,42:y,43:g,44:d,46:m},{6:[1,77]},t(x,[2,5],{17:9,20:10,25:11,15:12,26:16,24:18,38:19,27:21,36:31,11:38,12:b,14:_,16:n,19:r,21:i,22:u,28:s,29:a,30:o,31:c,32:l,34:h,37:f,39:p,42:y,44:d,46:m}),t(x,[2,6],{17:9,20:10,25:11,15:12,26:16,24:18,38:19,27:21,36:31,11:38,12:b,14:_,16:n,19:r,21:i,22:u,28:s,29:a,30:o,31:c,32:l,34:h,37:f,39:p,42:y,44:d,46:m}),t(w,[2,9]),t(w,[2,10]),t(A,[2,16]),t(A,[2,20]),t(w,[2,24]),{8:v,10:E,33:[1,78]},t(F,[2,27]),t(F,[2,32]),t(F,[2,33]),{8:v,10:E,35:[1,79]},{8:v,10:E,33:[1,80]},{8:v,10:E,41:[1,81]},{8:v,10:E,35:[1,82]},t(F,[2,39]),t(F,[2,40]),{8:v,10:E,35:[1,83]},{1:[2,1]},{32:[1,84]},t(F,[2,35]),t(F,[2,36]),{32:[1,85]},t(F,[2,38]),t(F,[2,41]),{7:86,9:5,10:e,11:8,13:6,15:12,16:n,17:9,19:r,20:10,21:i,22:u,24:18,25:11,26:16,27:21,28:s,29:a,30:o,31:c,32:l,34:h,36:31,37:f,38:19,39:p,42:y,43:g,44:d,46:m},{7:87,9:5,10:e,11:8,13:6,15:12,16:n,17:9,19:r,20:10,21:i,22:u,24:18,25:11,26:16,27:21,28:s,29:a,30:o,31:c,32:l,34:h,36:31,37:f,38:19,39:p,42:y,43:g,44:d,46:m},{8:v,10:E,33:[1,88]},{8:v,10:E,33:[1,89]},t(F,[2,44]),t(F,[2,37])],defaultActions:{3:[2,3],33:[2,34],35:[2,2],77:[2,1]},parseError:function(t,e){if(!e.recoverable)throw new Error(t);this.trace(t)},parse:function(t){var e=this,n=[0],r=[null],i=[],u=this.table,s="",a=0,o=0,c=0,l=1,h=i.slice.call(arguments,1),f=Object.create(this.lexer),p={yy:{}};for(var y in this.yy)Object.prototype.hasOwnProperty.call(this.yy,y)&&(p.yy[y]=this.yy[y]);f.setInput(t,p.yy),p.yy.lexer=f,p.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var g=f.yylloc;i.push(g);var d=f.options&&f.options.ranges;"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function m(){var t;return"number"!=typeof(t=f.lex()||l)&&(t=e.symbols_[t]||t),t}for(var v,E,x,b,_,w,A,F,D,k={};;){if(x=n[n.length-1],this.defaultActions[x]?b=this.defaultActions[x]:(null!==v&&void 0!==v||(v=m()),b=u[x]&&u[x][v]),void 0===b||!b.length||!b[0]){var C="";D=[];for(w in u[x])this.terminals_[w]&&w>2&&D.push("'"+this.terminals_[w]+"'");C=f.showPosition?"Parse error on line "+(a+1)+":\n"+f.showPosition()+"\nExpecting "+D.join(", ")+", got '"+(this.terminals_[v]||v)+"'":"Parse error on line "+(a+1)+": Unexpected "+(v==l?"end of input":"'"+(this.terminals_[v]||v)+"'"),this.parseError(C,{text:f.match,token:this.terminals_[v]||v,line:f.yylineno,loc:g,expected:D})}if(b[0]instanceof Array&&b.length>1)throw new Error("Parse Error: multiple actions possible at state: "+x+", token: "+v);switch(b[0]){case 1:n.push(v),r.push(f.yytext),i.push(f.yylloc),n.push(b[1]),v=null,E?(v=E,E=null):(o=f.yyleng,s=f.yytext,a=f.yylineno,g=f.yylloc,c>0&&c--);break;case 2:if(A=this.productions_[b[1]][1],k.$=r[r.length-A],k._$={first_line:i[i.length-(A||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(A||1)].first_column,last_column:i[i.length-1].last_column},d&&(k._$.range=[i[i.length-(A||1)].range[0],i[i.length-1].range[1]]),void 0!==(_=this.performAction.apply(k,[s,o,a,p.yy,b[1],r,i].concat(h))))return _;A&&(n=n.slice(0,-1*A*2),r=r.slice(0,-1*A),i=i.slice(0,-1*A)),n.push(this.productions_[b[1]][0]),r.push(k.$),i.push(k._$),F=u[n[n.length-2]][n[n.length-1]],n.push(F);break;case 3:return!0}}return!0}},k={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var u in i)this[u]=i[u];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var t,e,n,r;this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),u=0;u<i.length;u++)if((n=this._input.match(this.rules[i[u]]))&&(!e||n[0].length>e[0].length)){if(e=n,r=u,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,i[u])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,i[r]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0},performAction:function(t,e,n,r){switch(n){case 0:case 1:case 2:break;case 3:return"INT";case 4:return"FLOAT";case 5:return"^";case 6:case 7:case 8:case 9:return"*";case 10:case 11:return"/";case 12:case 13:return"-";case 14:return"+";case 15:return"^";case 16:return"(";case 17:return")";case 18:return"(";case 19:return")";case 20:return"[";case 21:return"]";case 22:return"{";case 23:return"}";case 24:return"{";case 25:return"}";case 26:return"_";case 27:return"|";case 28:return"LEFT|";case 29:return"RIGHT|";case 30:return"!";case 31:return"SIGN";case 32:return e.yytext="<=","SIGN";case 33:return e.yytext=">=","SIGN";case 34:return e.yytext="<=","SIGN";case 35:return e.yytext=">=","SIGN";case 36:case 37:case 38:case 39:return e.yytext="<>","SIGN";case 40:return e.yytext="<=","SIGN";case 41:return e.yytext=">=","SIGN";case 42:case 43:return"FRAC";case 44:return"sqrt";case 45:return"abs";case 46:return"ln";case 47:return"log";case 48:case 49:case 50:case 51:return"TRIG";case 52:return e.yytext="sin","TRIG";case 53:return e.yytext="cos","TRIG";case 54:return e.yytext="tan","TRIG";case 55:return e.yytext="csc","TRIG";case 56:return e.yytext="sec","TRIG";case 57:return e.yytext="cot","TRIG";case 58:return e.yytext="arcsin","TRIG";case 59:return e.yytext="arccos","TRIG";case 60:return e.yytext="arctan","TRIG";case 61:return e.yytext="arccsc","TRIG";case 62:return e.yytext="arcsec","TRIG";case 63:return e.yytext="arccot","TRIG";case 64:case 65:return"TRIGINV";case 66:return e.yytext="sinh","TRIG";case 67:return e.yytext="cosh","TRIG";case 68:return e.yytext="tanh","TRIG";case 69:return e.yytext="csch","TRIG";case 70:return e.yytext="sech","TRIG";case 71:return e.yytext="tanh","TRIG";case 72:return"CONST";case 73:case 74:return e.yytext="pi","CONST";case 75:return"VAR";case 76:case 77:return e.yytext="theta","VAR";case 78:return"VAR";case 79:case 80:return e.yytext="phi","VAR";case 81:return t.symbolLexer(e.yytext);case 82:return"EOF";case 83:return"INVALID";case 84:console.log(e.yytext)}},rules:[/^(?:\s+)/,/^(?:\\space)/,/^(?:\\ )/,/^(?:[0-9]+\.?)/,/^(?:([0-9]+)?\.[0-9]+)/,/^(?:\*\*)/,/^(?:\*)/,/^(?:\\cdot|·)/,/^(?:\\times|×)/,/^(?:\\ast)/,/^(?:\/)/,/^(?:\\div|÷)/,/^(?:-)/,/^(?:−)/,/^(?:\+)/,/^(?:\^)/,/^(?:\()/,/^(?:\))/,/^(?:\\left\()/,/^(?:\\right\))/,/^(?:\[)/,/^(?:\])/,/^(?:\{)/,/^(?:\})/,/^(?:\\left\{)/,/^(?:\\right\})/,/^(?:_)/,/^(?:\|)/,/^(?:\\left\|)/,/^(?:\\right\|)/,/^(?:\!)/,/^(?:<=|>=|<>|<|>|=)/,/^(?:\\le)/,/^(?:\\ge)/,/^(?:\\leq)/,/^(?:\\geq)/,/^(?:=\/=)/,/^(?:\\ne)/,/^(?:\\neq)/,/^(?:≠)/,/^(?:≤)/,/^(?:≥)/,/^(?:\\frac)/,/^(?:\\dfrac)/,/^(?:sqrt|\\sqrt)/,/^(?:abs|\\abs)/,/^(?:ln|\\ln)/,/^(?:log|\\log)/,/^(?:sin|cos|tan)/,/^(?:csc|sec|cot)/,/^(?:sinh|cosh|tanh)/,/^(?:csch|sech|coth)/,/^(?:\\sin)/,/^(?:\\cos)/,/^(?:\\tan)/,/^(?:\\csc)/,/^(?:\\sec)/,/^(?:\\cot)/,/^(?:\\arcsin)/,/^(?:\\arccos)/,/^(?:\\arctan)/,/^(?:\\arccsc)/,/^(?:\\arcsec)/,/^(?:\\arccot)/,/^(?:arcsin|arccos|arctan)/,/^(?:arccsc|arcsec|arccot)/,/^(?:\\sinh)/,/^(?:\\cosh)/,/^(?:\\tanh)/,/^(?:\\csch)/,/^(?:\\sech)/,/^(?:\\coth)/,/^(?:pi)/,/^(?:π)/,/^(?:\\pi)/,/^(?:theta)/,/^(?:θ)/,/^(?:\\theta)/,/^(?:phi)/,/^(?:φ)/,/^(?:\\phi)/,/^(?:[a-zA-Z])/,/^(?:$)/,/^(?:.)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],inclusive:!0}}};D.lexer=k;function C(){this.yy={}}return C.prototype=D,D.Parser=C,new C}();t.parser=e}(t.KAS),function(t){var e=function(){var t=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},e=[1,11],n=[1,9],r=[8,17],i=[6,11],u=[6,11,13,17],s={trace:function(){},yy:{},symbols_:{error:2,unitvalue:3,magnitude:4,unit:5,EOF:6,float:7,POW:8,int:9,multatoms:10,DIV:11,expatom:12,MUL:13,atom:14,"^":15,nat:16,ATOM:17,FLOAT:18,NAT:19,NEG:20,$accept:0,$end:1},terminals_:{2:"error",6:"EOF",8:"POW",11:"DIV",13:"MUL",15:"^",17:"ATOM",18:"FLOAT",19:"NAT",20:"NEG"},productions_:[0,[3,3],[3,2],[4,3],[4,1],[5,3],[5,1],[10,3],[10,2],[10,1],[12,3],[12,1],[14,1],[7,1],[7,1],[16,1],[9,2],[9,1]],performAction:function(t,e,n,r,i,u,s){var a=u.length-1;switch(i){case 1:return{type:"unitMagnitude",magnitude:u[a-2],unit:u[a-1]};case 2:return{type:"unitStandalone",unit:u[a-1]};case 3:this.$=u[a-2]+"e"+u[a];break;case 4:case 13:case 14:case 15:case 17:this.$=u[a];break;case 5:this.$={num:u[a-2],denom:u[a]};break;case 6:this.$={num:u[a],denom:null};break;case 7:this.$=[u[a-2]].concat(u[a]);break;case 8:this.$=[u[a-1]].concat(u[a]);break;case 9:this.$=[u[a]];break;case 10:this.$={name:u[a-2],pow:u[a]};break;case 11:this.$={name:u[a],pow:1};break;case 12:this.$=t;break;case 16:this.$="-"+u[a]}},table:[{3:1,4:2,5:3,7:4,10:5,12:8,14:10,16:7,17:e,18:[1,6],19:n},{1:[3]},{5:12,10:5,12:8,14:10,17:e},{6:[1,13]},{8:[1,14],17:[2,4]},{6:[2,6],11:[1,15]},t(r,[2,13]),t(r,[2,14]),t(i,[2,9],{12:8,14:10,10:17,13:[1,16],17:e}),t([6,8,11,13,17],[2,15]),t(u,[2,11],{15:[1,18]}),t([6,11,13,15,17],[2,12]),{6:[1,19]},{1:[2,2]},{9:20,19:[1,22],20:[1,21]},{10:23,12:8,14:10,17:e},{10:24,12:8,14:10,17:e},t(i,[2,8]),{16:25,19:n},{1:[2,1]},{17:[2,3]},{19:[1,26]},{17:[2,17]},{6:[2,5]},t(i,[2,7]),t(u,[2,10]),{17:[2,16]}],defaultActions:{13:[2,2],19:[2,1],20:[2,3],22:[2,17],23:[2,5],26:[2,16]},parseError:function(t,e){if(!e.recoverable)throw new Error(t);this.trace(t)},parse:function(t){var e=this,n=[0],r=[null],i=[],u=this.table,s="",a=0,o=0,c=0,l=1,h=i.slice.call(arguments,1),f=Object.create(this.lexer),p={yy:{}};for(var y in this.yy)Object.prototype.hasOwnProperty.call(this.yy,y)&&(p.yy[y]=this.yy[y]);f.setInput(t,p.yy),p.yy.lexer=f,p.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var g=f.yylloc;i.push(g);var d=f.options&&f.options.ranges;"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function m(){var t;return"number"!=typeof(t=f.lex()||l)&&(t=e.symbols_[t]||t),t}for(var v,E,x,b,_,w,A,F,D,k={};;){if(x=n[n.length-1],this.defaultActions[x]?b=this.defaultActions[x]:(null!==v&&void 0!==v||(v=m()),b=u[x]&&u[x][v]),void 0===b||!b.length||!b[0]){var C="";D=[];for(w in u[x])this.terminals_[w]&&w>2&&D.push("'"+this.terminals_[w]+"'");C=f.showPosition?"Parse error on line "+(a+1)+":\n"+f.showPosition()+"\nExpecting "+D.join(", ")+", got '"+(this.terminals_[v]||v)+"'":"Parse error on line "+(a+1)+": Unexpected "+(v==l?"end of input":"'"+(this.terminals_[v]||v)+"'"),this.parseError(C,{text:f.match,token:this.terminals_[v]||v,line:f.yylineno,loc:g,expected:D})}if(b[0]instanceof Array&&b.length>1)throw new Error("Parse Error: multiple actions possible at state: "+x+", token: "+v);switch(b[0]){case 1:n.push(v),r.push(f.yytext),i.push(f.yylloc),n.push(b[1]),v=null,E?(v=E,E=null):(o=f.yyleng,s=f.yytext,a=f.yylineno,g=f.yylloc,c>0&&c--);break;case 2:if(A=this.productions_[b[1]][1],k.$=r[r.length-A],k._$={first_line:i[i.length-(A||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(A||1)].first_column,last_column:i[i.length-1].last_column},d&&(k._$.range=[i[i.length-(A||1)].range[0],i[i.length-1].range[1]]),void 0!==(_=this.performAction.apply(k,[s,o,a,p.yy,b[1],r,i].concat(h))))return _;A&&(n=n.slice(0,-1*A*2),r=r.slice(0,-1*A),i=i.slice(0,-1*A)),n.push(this.productions_[b[1]][0]),r.push(k.$),i.push(k._$),F=u[n[n.length-2]][n[n.length-1]],n.push(F);break;case 3:return!0}}return!0}},a={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var u in i)this[u]=i[u];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var t,e,n,r;this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),u=0;u<i.length;u++)if((n=this._input.match(this.rules[i[u]]))&&(!e||n[0].length>e[0].length)){if(e=n,r=u,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,i[u])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,i[r]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(t,e,n,r){switch(n){case 0:return 11;case 1:return"(";case 2:return")";case 3:return 8;case 4:return 15;case 5:return 13;case 6:return 18;case 7:return 19;case 8:return 20;case 9:case 10:case 11:return 17;case 12:break;case 13:return 6}},rules:[/^(?:\/)/,/^(?:\()/,/^(?:\))/,/^(?:(\*|x|\u00d7|\u2219|\u22c5|\u00b7)\s*10\s*\^)/,/^(?:\^)/,/^(?:\*)/,/^(?:[0-9]+\.[0-9]+)/,/^(?:[0-9]+)/,/^(?:-)/,/^(?:\u00b0( ?)[cCfF])/,/^(?:fl\.? oz\.?)/,/^(?:[\u00b5]?([A-Za-z-]+|[\u2103\u2109\u212b]))/,/^(?:\s+)/,/^(?:$)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};s.lexer=a;function o(){this.yy={}}return o.prototype=s,s.Parser=o,new o}();t.unitParser=e}(t.KAS),function(t){var e=function(){throw new Error("Abstract method - must override for expr: "+this.print())},n=function(t){throw new Error(t)},r=function(t){return t!=t},i=function(t,e){var n=e-t;return Math.random()*n+t};function u(){}_.extend(u.prototype,{func:e,args:e,construct:function(t){var e=new this.func;return this.func.apply(e,t),e},recurse:function(t){var e=Array.prototype.slice.call(arguments,1),n=_.map(this.args(),function(n){return _.isString(n)?n:n[t].apply(n,e)});return this.construct(n)},eval:e,codegen:e,compile:function(){var t=this.codegen();try{return new Function("vars","return "+t+";")}catch(e){throw new Error("Function did not compile: "+t)}},print:e,tex:e,asTex:function(t){t=t||{},_.defaults(t,{display:!0,dynamic:!0,times:!1});var e=this.tex();return t.display&&(e="\\displaystyle "+e),t.dynamic&&(e=(e=e.replace(/\(/g,"\\left(")).replace(/\)/g,"\\right)")),t.times&&(e=e.replace(/\\cdot/g,"\\times")),e},name:function(){return this.func.name?this.func.name:this.func.toString().match(/^function\s*([^\s(]+)/)[1]},repr:function(){return this.name()+"("+_.map(this.args(),function(t){return _.isString(t)?t:t.repr()}).join(",")+")"},strip:function(){return this.recurse("strip")},normalize:function(){return this.recurse("normalize")},expand:function(){return this.recurse("expand")},factor:function(t){return this.recurse("factor",t)},collect:function(t){return this.recurse("collect",t)},equals:function(t){return this.normalize().print()===t.normalize().print()},simplify:function(t){t=_.extend({once:!1},t);var e=this.factor(t),n=e.collect(t);e.equals(n)&&(n=this.collect(t));var r=n.expand(t),i=r.collect(t);r.equals(i)&&(i=n.collect(t));var u=i;return t.once||this.equals(u)?u:u.simplify(t)},isSimplified:function(){return this.equals(this.simplify())},exprArgs:function(){return _.filter(this.args(),function(t){return t instanceof u})},getVars:function(t){return _.uniq(_.flatten(_.invoke(this.exprArgs(),"getVars",t))).sort()},getConsts:function(){return _.uniq(_.flatten(_.invoke(this.exprArgs(),"getConsts"))).sort()},getUnits:function(){return _.flatten(_.invoke(this.exprArgs(),"getUnits"))},is:function(t){return this instanceof t},has:function(t){return this instanceof t||_.any(this.exprArgs(),function(e){return e.has(t)})},raiseToThe:function(t){return new c(this,t)},isSubtract:function(){return!1},isDivide:function(){return!1},isRoot:function(){return!1},needsExplicitMul:function(){return this.args()[0].needsExplicitMul()},sameVars:function(t){var e=this.getVars(),n=t.getVars(),r=function(t,e){return!_.difference(t,e).length},i=function(t){return _.uniq(_.invoke(t,"toLowerCase")).sort()};return{equal:r(e,n),equalIgnoringCase:r(i(e),i(n))}},compare:function(t){if(t instanceof p)return!1;var e=_.union(this.getVars(!0),t.getVars(!0)),n=function(t,e){var n,i,u=(n=t,i=e,Math.abs(n)<1||Math.abs(i)<1?Math.abs(n-i):Math.abs(1-n/i));return t===e||r(t)&&r(e)||u<Math.pow(10,-9)};if(!e.length&&!this.has(A)&&!t.has(A))return n(this.eval(),t.eval());var u=this.collect(),s=t.collect(),a=this.getUnits(),o=t.getUnits();if(!_.isEqual(a,o))return!1;for(var c=0;c<12;c++){var l={},h=Math.pow(10,1+Math.floor(3*c/12)),f=c%2==0;_.each(e,function(t){l[t]=f?i(-h,h):_.random(-h,h)});var y;if(u.has(g)||s.has(g)||u.has(A)||s.has(A)){var d=u.partialEval(l),m=s.partialEval(l);y=d.simplify().equals(m.simplify())}else{y=n(d=u.eval(l),m=s.eval(l))}if(!y)return!1}return!0},partialEval:function(t){return this instanceof A?this:this.has(g)?this instanceof g?new g(this.symbol,this.arg.partialEval(t)):this.recurse("partialEval",t):new b(this.eval(t).toFixed(9)).collect()},sameForm:function(t){return this.strip().equals(t.strip())},findGCD:function(t){return this.equals(t)?t:v.One},getDenominator:function(){return v.One},asMul:function(){return new o(v.One,this)},isPositive:e,isNegative:function(){return!1},asPositiveFactor:function(){return this.isPositive()?this:v.One},addHint:function(t){if(!t)return this;var e=this.construct(this.args());return e.hints=_.clone(this.hints),e.hints[t]=!0,e},hints:{parens:!1},asExpr:function(){return this},completeParse:function(){return this.recurse("completeParse")},abs:e,negate:function(){return new o(v.Neg,this)}});function s(){}s.prototype=new u,_.extend(s.prototype,{args:function(){return this.terms},normalize:function(){var t=_.sortBy(_.invoke(this.terms,"normalize"),function(t){return t.print()});return new this.func(t)},expand:function(){return this.recurse("expand").flatten()},partition:function(){var t=_.groupBy(this.terms,function(t){return t instanceof v}),e=t[!0]||[],n=t[!1]||[];return[new this.func(e),new this.func(n)]},flatten:function(){var t=this,e=_.reject(this.terms,function(e){return e.equals(t.identity)});if(0===e.length)return t.identity;if(1===e.length)return e[0];var n=_.groupBy(e,function(e){return e instanceof t.func}),r=n[!0]||[],i=(n[!1]||[]).concat(_.flatten(_.pluck(r,"terms"),!0));return new t.func(i)},identity:void 0,reduce:e,isPositive:function(){var t=_.invoke(this.terms,"collect");return _.all(_.invoke(t,"isPositive"))},replace:function(t,e){var n;n=t instanceof u?_.indexOf(this.terms,t):t;var r=[];_.isArray(e)?r=e:e&&(r=[e]);var i=this.terms.slice(0,n).concat(r).concat(this.terms.slice(n+1));return new this.func(i)},remove:function(t){return this.replace(t)},getDenominator:function(){return new o(_.invoke(this.terms,"getDenominator")).flatten()}});function a(){1===arguments.length?this.terms=arguments[0]:this.terms=_.toArray(arguments)}a.prototype=new s,_.extend(a.prototype,{func:a,eval:function(t,e){return _.reduce(this.terms,function(n,r){return n+r.eval(t,e)},0)},codegen:function(){return _.map(this.terms,function(t){return"("+t.codegen()+")"}).join(" + ")||"0"},print:function(){return _.invoke(this.terms,"print").join("+")},tex:function(){var t="";return _.each(this.terms,function(e){!t||e.isSubtract()?t+=e.tex():t+="+"+e.tex()}),t},collect:function(t){var e=_.invoke(this.terms,"collect",t),n=[];_.each(e,function(e){if(e instanceof o){var r=e.partition();n.push([r[1].flatten(),r[0].reduce(t)])}else e instanceof v?n.push([v.One,e]):n.push([e,v.One])});var r=_.groupBy(n,function(t){return t[0].normalize().print()});return new a(_.compact(_.map(r,function(e){var n=e[0][0];return new o(new a(_.zip.apply(_,e)[1]).reduce(t),n).collect(t)}))).flatten()},factor:function(t){t=_.extend({keepNegative:!1},t);var e,n=_.invoke(this.terms,"collect");e=n[0]instanceof o?n[0].terms:[n[0]],_.each(_.rest(this.terms),function(t){e=_.map(e,function(e){return t.findGCD(e)})}),!t.keepNegative&&this.isNegative()&&e.push(v.Neg),e=new o(e).flatten().collect();var r=_.map(n,function(t){return o.handleDivide(t,e).simplify()});return r=new a(r).flatten(),o.createOrAppend(e,r).flatten()},reduce:function(t){return _.reduce(this.terms,function(e,n){return e.add(n,t)},this.identity)},needsExplicitMul:function(){return!1},isNegative:function(){var t=_.invoke(this.terms,"collect");return _.all(_.invoke(t,"isNegative"))},negate:function(){return new a(_.invoke(this.terms,"negate"))}});function o(){1===arguments.length?this.terms=arguments[0]:this.terms=_.toArray(arguments)}o.prototype=new s,_.extend(o.prototype,{func:o,eval:function(t,e){return _.reduce(this.terms,function(n,r){return n*r.eval(t,e)},1)},codegen:function(){return _.map(this.terms,function(t){return"("+t.codegen()+")"}).join(" * ")||"0"},print:function(){return _.map(this.terms,function(t){return t instanceof a?"("+t.print()+")":t.print()}).join("*")},getUnits:function(){var t=_(this.terms).chain().map(function(t){return t.getUnits()}).flatten().value();return t.sort(function(t,e){return t.unit<e.unit}),t},tex:function(){for(var t,e=_.groupBy(this.terms,function(t){return t.isDivide()?"inverse":t instanceof v?"number":"other"}),n=e.inverse||[],r=e.number||[],i=e.other||[],u="",s=0;s<r.length;s++){if(r[s]instanceof E&&!(r[s]instanceof x)&&i.length>0&&n.length>0){var l=r.slice();l.splice(s,1);var h=l.concat(n).concat(i);return r[s].tex()+new o(h).tex()}}if(0===(r=_.compact(_.map(r,function(t){var e=t instanceof E&&!(t instanceof x),r=!t.hints.fraction||n.length>0;if(e&&r){n.push(new c(new x(t.d),v.Div));var i=new x(t.n);return i.hints=t.hints,_.any(t.hints)?i:null}return t}))).length&&1===i.length)t=i[0].tex();else{var f="";_.each(r,function(t){t.hints.subtract&&t.hints.entered?(u+="-",f+=(f?" \\cdot ":"")+t.abs().tex()):t instanceof x&&-1===t.n&&(t.hints.negate||t.hints.subtract)?u+="-":f+=(f?" \\cdot ":"")+t.tex()}),_.each(i,function(t){t.needsExplicitMul()?f+=(f?" \\cdot ":"")+t.tex():f+=t instanceof a?"("+t.tex()+")":t.tex()}),t=f||"1"}if(n.length){var p=new o(_.invoke(n,"asDivide")).flatten().tex();return u+"\\frac{"+t+"}{"+p+"}"}return u+t},strip:function(){return new o(_.map(this.terms,function(t){return t instanceof v?t.abs():t.strip()})).flatten()},expand:function(){var t=function(t){return t instanceof a},e=function(t){return t instanceof c&&t.exp.isNegative()},n=this.recurse("expand").flatten(),r=_.any(n.terms,t),i=_.any(n.terms,function(n){return e(n)&&t(n.base)});if(!r&&!i)return n;var u=_.groupBy(n.terms,e),s=u[!1]||[],l=u[!0]||[];if(r){var h=_.groupBy(s,t),f=h[!0]||[],p=h[!1]||[],y=_.reduce(f,function(t,e){return _.reduce(t,function(t,n){return t.concat(_.map(e.terms,function(t){return n.concat(t)}))},[])},[[]]);s=[new a(_.map(y,function(t){return new o(p.concat(t)).flatten()}))]}if(i){l=[new c(new o(_.invoke(l,"getDenominator")).flatten().expand(),v.Div)]}return new o(s.concat(l)).flatten()},factor:function(t){var e=this.recurse("factor",t).flatten();if(!(e instanceof o))return e;var n=_.groupBy(e.terms,function(t){return t instanceof E}),r=_.reduce(n[!0],function(t,e){return{n:t.n*e.n,d:t.d*e.d}},{n:1,d:1});return r=1===r.d?new x(r.n):new E(r.n,r.d),new o((n[!1]||[]).concat(r)).flatten()},collect:function(t){var e=this.recurse("collect",t).partition(),n=e[0].reduce(t);if(0===n.eval())return v.Zero;var r=e[1].flatten();if(!(r instanceof o))return new o(n,r).flatten();r=r.terms;var i=[];_.each(r,function(t){t instanceof c?i.push([t.base,t.exp]):i.push([t,v.One])});var u=_.groupBy(i,function(t){return t[0].normalize().print()}),s=_.compact(_.map(u,function(e){var n=e[0][0],r=new a(_.zip.apply(_,e)[1]).collect(t);return r instanceof v&&0===r.eval()?null:[n,r]})),f=(i=_.groupBy(s,function(t){return t[0]instanceof h&&t[0].isBasic()?"trig":t[0]instanceof l?"log":"expr"})).trig||[],p=i.log||[],y=i.expr||[];if(f.length>1){var g=_.groupBy(f,function(t){return t[0].arg.normalize().print()});f=[],_.each(g,function(e){var n=e[0][0].arg,r={sin:v.Zero,cos:v.Zero};_.each(e,function(t){r[t[0].type]=t[1]}),o.handleNegative(r.sin).collect(t).equals(r.cos)&&(r=r.cos.isNegative()?{tan:r.sin}:{cot:r.cos}),_.each(r,function(t,e){f.push([new h(e,n),t])})})}if(p.length>1){var d=_.groupBy(p,function(t){return t[0].base.normalize().print()});p=[],_.each(d,function(e){2===e.length&&o.handleNegative(e[0][1]).collect(t).equals(e[1][1])?e[0][1].isNegative()?p.push([new l(e[0][0].power,e[1][0].power),e[1][1]]):p.push([new l(e[1][0].power,e[0][0].power),e[0][1]]):p=p.concat(e)})}i=f.concat(p).concat(y);var m=_.map(i,function(e){return new c(e[0],e[1]).collect(t)});return new o([n].concat(m)).flatten()},isSubtract:function(){return _.any(this.terms,function(t){return t instanceof v&&t.hints.subtract})},factorIn:function(t){var e=this.partition()[0].terms;if(e.length&&_.all(e,function(t){return t.n>0})){var n=e[0].negate();return n.hints=e[0].hints,this.replace(e[0],n.addHint(t))}return new o([v.negativeOne(t)].concat(this.terms))},factorOut:function(){var t=!1,e=_.compact(_.map(this.terms,function(e,n,r){return!t&&e instanceof v&&e.hints.divide?(t=!0,-1!==e.n?e.negate():null):e}));return 1===e.length?e[0]:new o(e)},reduce:function(t){return _.reduce(this.terms,function(e,n){return e.mul(n,t)},this.identity)},findGCD:function(t){return new o(_.invoke(this.terms,"findGCD",t)).flatten()},asMul:function(){return this},asPositiveFactor:function(){if(this.isPositive())return this;return new o(_.invoke(this.collect().terms,"asPositiveFactor")).flatten()},isNegative:function(){return _.any(_.invoke(this.collect().terms,"isNegative"))},fold:function(){return o.fold(this)},negate:function(){var t=function(t){return t instanceof v};if(_.any(this.terms,t)){var e=_.find(this.terms,t);return this.replace(e,e.negate())}return new o([v.Neg].concat(this.terms))}}),_.each([a,o],function(t){_.extend(t,{createOrAppend:function(e,n){return e instanceof t?new t(e.terms.concat(n)):new t(e,n)}})}),_.extend(o,{handleNegative:function(t,e){if(t instanceof v&&t.n>0){var n=t.negate();return n.hints=t.hints,n.addHint(e)}return t instanceof o?t.factorIn(e):new o(v.negativeOne(e),t)},handleDivide:function(t,e){if(e instanceof o){var n=o.handleDivide(t,e.terms[0]),r=new o(_.rest(e.terms)).flatten();return o.handleDivide(n,r)}var i=function(t){return t instanceof x};if(i(e)&&t instanceof o&&_.any(t.terms,i)){var u=t.terms.slice().reverse(),s=_.find(u,function(t){return t instanceof E});if(!i(s))return new o(t.terms.concat([new E(1,e.n).addHint("fraction")]));var a=new E(s.n,e.n);a.hints=s.hints,s===u[0]&&(a=a.addHint("fraction"));return s.n<0&&e.n<0?(a.d=-a.d,t.replace(s,[v.Neg,a])):t.replace(s,a)}var l=function(t,e){if(e instanceof x){if(t instanceof x)return t.n<0&&e.n<0?[v.Neg,new E(t.n,-e.n).addHint("fraction")]:[new E(t.n,e.n).addHint("fraction")];var n=new E(1,e.eval());return e.eval()<0?[t,n.addHint("negate")]:[t,n]}var r;if(e instanceof h&&e.exp){var i=e.exp;e.exp=void 0,e=new c(e,i)}return r=e instanceof c?new c(e.base,o.handleNegative(e.exp,"divide")):new c(e,v.Div),t instanceof x&&1===t.n?[r]:[t,r]};if(t instanceof o){var f=l(_.last(t.terms),e);return new o(_.initial(t.terms).concat(f))}return new o(f=l(t,e)).flatten()},fold:function(t){if(t instanceof o){var e=_.find(_.initial(t.terms),function(t){return(t instanceof h||t instanceof l)&&t.hints.open}),n=_.indexOf(t.terms,e);if(e){var r=_.last(t.terms);if(!(e.hints.parens||r.hints.parens||r.has(h)||r.has(l))){var i;return i=e instanceof h?h.create([e.type,e.exp],o.createOrAppend(e.arg,r).fold()):l.create(e.base,o.createOrAppend(e.power,r).fold()),0===n?i:new o(t.terms.slice(0,n).concat(i)).fold()}e.hints.open=!1}var u=t.partition()[0].terms,s=function(t){return t.n>0},a=function(t){return-1===t.n&&t.hints.negate};if(u.length>1&&_.some(u,a)&&_.some(u,s)&&_.every(u,function(t){return s(t)||a(t)})){var c=_.indexOf(t.terms,_.find(t.terms,a)),f=_.indexOf(t.terms,_.find(t.terms,s));if(c<f)return t.replace(f,t.terms[f].negate()).remove(c)}}return t}});function c(t,e){this.base=t,this.exp=e}c.prototype=new u,_.extend(c.prototype,{func:c,args:function(){return[this.base,this.exp]},eval:function(t,e){var n=this.base.eval(t,e),r=this.exp.eval(t,e);if(n<0){var i=this.exp.simplify();if(i instanceof b){var u=i.n,s=(u-u.toFixed()).toString().length-2,a=Math.pow(10,s);i=new E(u*a,a).simplify()}if(i instanceof E){if(Math.abs(i.d)%2==1){return(Math.abs(i.n)%2==1?-1:1)*Math.pow(-1*n,r)}}}return Math.pow(n,r)},getUnits:function(){return this.base.getUnits().map(function(t){return{unit:t.unit,pow:t.pow*this.exp.n}}.bind(this))},codegen:function(){return"Math.pow("+this.base.codegen()+", "+this.exp.codegen()+")"},print:function(){var t=this.base.print();return(this.base instanceof s||this.base instanceof c)&&(t="("+t+")"),t+"^("+this.exp.print()+")"},tex:function(){if(this.isDivide())return"\\frac{1}{"+this.asDivide().tex()+"}";if(this.isRoot())return 1!==this.exp.n&&n("Node marked with hint 'root' does not have exponent of form 1/x."),2===this.exp.d?"\\sqrt{"+this.base.tex()+"}":"\\sqrt["+this.exp.d+"]{"+this.base.tex()+"}";if(this.base instanceof h&&!this.base.isInverse()&&this.exp instanceof v&&this.exp.isSimple()&&this.exp.eval()>=0){var t=this.base.tex({split:!0});return t[0]+"^{"+this.exp.tex()+"}"+t[1]}var e=this.base.tex();return this.base instanceof s||this.base instanceof c||this.base instanceof v&&!this.base.isSimple()?e="("+e+")":(this.base instanceof h||this.base instanceof l)&&(e="["+e+"]"),e+"^{"+this.exp.tex()+"}"},needsExplicitMul:function(){return!this.isRoot()&&this.base.needsExplicitMul()},expand:function(){var t=this.recurse("expand");if(t.base instanceof o){return new o(_.map(t.base.terms,function(e){return new c(e,t.exp)})).expand()}if(t.base instanceof a&&t.exp instanceof x&&t.exp.abs().eval()>1){for(var e=t.exp.eval()>0,n=t.exp.abs().eval(),r=function(t){return e?t:new c(t,v.Div)},i={1:t.base},u=2;u<=n;u*=2){var s=new o(i[u/2],i[u/2]);i[u]=s.expand().collect()}if(_.has(i,n))return r(i[n]);var l=_.map(n.toString(2).split(""),function(t,e,n){return Number(t)*Math.pow(2,n.length-e-1)});l=_.without(l,0);return r(s=new o(_.pick(i,l)).expand().collect())}if(t.exp instanceof a){return new o(_.map(t.exp.terms,function(e){return new c(t.base,e).expand()})).expand()}return t},factor:function(){var t=this.recurse("factor");if(t.base instanceof o){return new o(_.map(t.base.terms,function(e){return e instanceof x&&t.exp.equals(v.Div)?new E(1,e.n):new c(e,t.exp)}))}return t},collect:function(t){if(this.base instanceof c){return new c(this.base.base,i=o.createOrAppend(this.base.exp,this.exp)).collect(t)}var e=this.recurse("collect",t),n=function(t){return t instanceof l&&t.base.equals(e.base)};if(e.exp instanceof v&&0===e.exp.eval())return v.One;if(e.exp instanceof v&&1===e.exp.eval())return e.base;if(n(e.exp))return e.exp.power;if(e.exp instanceof o&&_.any(e.exp.terms,n)){var r=_.find(e.exp.terms,n);return new c(r.power,i=e.exp.remove(r).flatten()).collect(t)}if(e.base instanceof v&&e.exp instanceof v){if(t&&t.preciseFloats){var i=e.exp.asRational(),u=e.base.getDecimalPlaces();if(new c(e.base,new E(1,i.d)).collect().getDecimalPlaces()>u){return new c(new c(e.base,new x(i.n)).collect(),new E(1,i.d))}}return e.base.raiseToThe(e.exp,t)}return e},isDivide:function(){var t=function(t){return t instanceof v&&t.hints.divide};return t(this.exp)||this.exp instanceof o&&_.any(this.exp.terms,t)},asDivide:function(){if(this.exp instanceof v){if(-1===this.exp.eval())return this.base;var t=this.exp.negate();return t.hints=_.clone(this.exp.hints),t.hints.divide=!1,new c(this.base,t)}if(this.exp instanceof o)return new c(this.base,this.exp.factorOut());n("called asDivide() on an Expr that wasn't a Num or Mul")},isRoot:function(){return this.exp instanceof E&&this.exp.hints.root},isSquaredTrig:function(){return this.base instanceof h&&!this.base.isInverse()&&this.exp instanceof v&&2===this.exp.eval()},getDenominator:function(){if(this.exp instanceof v&&-1===this.exp.eval())return o.createOrAppend(this.base,this.base.getDenominator()).flatten();if(this.exp.isNegative()){var t=new c(this.base,o.handleNegative(this.exp).collect());return o.createOrAppend(t,t.collect().getDenominator()).flatten()}return this.base instanceof v?new c(this.base.getDenominator(),this.exp).collect():v.One},findGCD:function(t){var e,n;if(t instanceof c?(e=t.base,n=t.exp):(e=t,n=v.One),this.base.equals(e)){if(this.exp.equals(n))return this;if(this.exp instanceof v&&n instanceof v)return new c(this.base,v.min(this.exp,n)).collect();if(this.exp instanceof v||n instanceof v)return v.One;var r=this.exp.asMul().partition(),i=n.asMul().partition();if(r[1].equals(i[1])){return new c(e,new o(v.min(r[0].reduce(),i[0].reduce()),r[1].flatten()).flatten()).collect()}}return v.One},isPositive:function(){if(this.base.isPositive())return!0;var t=this.exp.simplify();return t instanceof x&&t.eval()%2==0},asPositiveFactor:function(){if(this.isPositive())return this;var t=this.exp.simplify();if(t instanceof x){var e=t.eval();if(e>2)return new c(this.base,new x(e-1));if(e<-2)return new c(this.base,new x(e+1))}return v.One}}),_.extend(c,{sqrt:function(t){return new c(t,v.Sqrt)},nthroot:function(t,e){return new c(t,o.fold(o.handleDivide(new x(1),e)).addHint("root"))}});function l(t,e){this.base=t,this.power=e}l.prototype=new u,_.extend(l.prototype,{func:l,args:function(){return[this.base,this.power]},eval:function(t,e){return Math.log(this.power.eval(t,e))/Math.log(this.base.eval(t,e))},codegen:function(){return"(Math.log("+this.power.codegen()+") / Math.log("+this.base.codegen()+"))"},print:function(){var t="("+this.power.print()+")";return this.isNatural()?"ln"+t:"log_("+this.base.print()+") "+t},tex:function(){var t="("+this.power.tex()+")";return this.isNatural()?"\\ln"+t:"\\log_{"+this.base.tex()+"}"+t},collect:function(t){var e=this.recurse("collect",t);return e.power instanceof v&&1===e.power.eval()?v.Zero:e.base.equals(e.power)?v.One:e.power instanceof c&&e.power.base.equals(e.base)?e.power.exp:e},expand:function(){var t=this.recurse("expand");if(t.power instanceof o){return new a(_.map(t.power.terms,function(e){return new l(t.base,e).expand()}))}return t.power instanceof c?new o(t.power.exp,new l(t.base,t.power.base).expand()).flatten():t.isNatural()?t:o.handleDivide(new l(m.e,t.power),new l(m.e,t.base))},hints:_.extend(l.prototype.hints,{open:!1}),isPositive:function(){var t=this.collect();return t.base instanceof v&&t.power instanceof v&&this.eval()>0},needsExplicitMul:function(){return!1},isNatural:function(){return this.base.equals(m.e)}}),_.extend(l,{natural:function(){return m.e},common:function(){return v.Ten},create:function(t,e){var n=new l(t,e);return e.hints.parens||(n=n.addHint("open")),n}});function h(t,e){this.type=t,this.arg=e}h.prototype=new u,_.extend(h.prototype,{func:h,args:function(){return[this.type,this.arg]},functions:{sin:{eval:Math.sin,codegen:"Math.sin((",tex:"\\sin",expand:function(){return this}},cos:{eval:Math.cos,codegen:"Math.cos((",tex:"\\cos",expand:function(){return this}},tan:{eval:Math.tan,codegen:"Math.tan((",tex:"\\tan",expand:function(){return o.handleDivide(h.sin(this.arg),h.cos(this.arg))}},csc:{eval:function(t){return 1/Math.sin(t)},codegen:"(1/Math.sin(",tex:"\\csc",expand:function(){return o.handleDivide(v.One,h.sin(this.arg))}},sec:{eval:function(t){return 1/Math.cos(t)},codegen:"(1/Math.cos(",tex:"\\sec",expand:function(){return o.handleDivide(v.One,h.cos(this.arg))}},cot:{eval:function(t){return 1/Math.tan(t)},codegen:"(1/Math.tan(",tex:"\\cot",expand:function(){return o.handleDivide(h.cos(this.arg),h.sin(this.arg))}},arcsin:{eval:Math.asin,codegen:"Math.asin((",tex:"\\arcsin"},arccos:{eval:Math.acos,codegen:"Math.acos((",tex:"\\arccos"},arctan:{eval:Math.atan,codegen:"Math.atan((",tex:"\\arctan"},arccsc:{eval:function(t){return Math.asin(1/t)},codegen:"Math.asin(1/(",tex:"\\operatorname{arccsc}"},arcsec:{eval:function(t){return Math.acos(1/t)},codegen:"Math.acos(1/(",tex:"\\operatorname{arcsec}"},arccot:{eval:function(t){return Math.atan(1/t)},codegen:"Math.atan(1/(",tex:"\\operatorname{arccot}"},sinh:{eval:function(t){return(Math.exp(t)-Math.exp(-t))/2},codegen:function(t){return"((Math.exp("+t+") - Math.exp(-("+t+"))) / 2)"},tex:"\\sinh",expand:function(){return this}},cosh:{eval:function(t){return(Math.exp(t)+Math.exp(-t))/2},codegen:function(t){return"((Math.exp("+t+") + Math.exp(-("+t+"))) / 2)"},tex:"\\cosh",expand:function(){return this}},tanh:{eval:function(t){return(Math.exp(t)-Math.exp(-t))/(Math.exp(t)+Math.exp(-t))},codegen:function(t){return"((Math.exp("+t+") - Math.exp(-("+t+"))) / (Math.exp("+t+") + Math.exp(-("+t+"))))"},tex:"\\tanh",expand:function(){return o.handleDivide(h.sinh(this.arg),h.cosh(this.arg))}},csch:{eval:function(t){return 2/(Math.exp(t)-Math.exp(-t))},codegen:function(t){return"(2 / (Math.exp("+t+") - Math.exp(-("+t+"))))"},tex:"\\csch",expand:function(){return o.handleDivide(v.One,h.sinh(this.arg))}},sech:{eval:function(t){return 2/(Math.exp(t)+Math.exp(-t))},codegen:function(t){return"(2 / (Math.exp("+t+") + Math.exp(-("+t+"))))"},tex:"\\sech",expand:function(){return o.handleDivide(v.One,h.cosh(this.arg))}},coth:{eval:function(t){return(Math.exp(t)+Math.exp(-t))/(Math.exp(t)-Math.exp(-t))},codegen:function(t){return"((Math.exp("+t+") + Math.exp(-("+t+"))) / (Math.exp("+t+") - Math.exp(-("+t+"))))"},tex:"\\coth",expand:function(){return o.handleDivide(h.cosh(this.arg),h.sinh(this.arg))}}},isEven:function(){return _.contains(["cos","sec"],this.type)},isInverse:function(){return 0===this.type.indexOf("arc")},isBasic:function(){return _.contains(["sin","cos"],this.type)},eval:function(t,e){return(0,this.functions[this.type].eval)(this.arg.eval(t,e))},codegen:function(){var t=this.functions[this.type].codegen;if("function"==typeof t)return t(this.arg.codegen());if("string"==typeof t)return t+this.arg.codegen()+"))";throw new Error("codegen not implemented for "+this.type)},print:function(){return this.type+"("+this.arg.print()+")"},tex:function(t){var e=this.functions[this.type].tex,n="("+this.arg.tex()+")";return t&&t.split?[e,n]:e+n},hints:_.extend(h.prototype.hints,{open:!1}),isPositive:function(){return this.collect().arg instanceof v&&this.eval()>0},completeParse:function(){if(this.exp){var t=new c(this,this.exp);return this.exp=void 0,t}return this},needsExplicitMul:function(){return!1},expand:function(){var t=this.recurse("expand");if(t.isInverse())return t;var e=t.functions[t.type].expand;return _.bind(e,t)()},collect:function(t){var e=this.recurse("collect",t);if(!e.isInverse()&&e.arg.isNegative()){var n;return n=e.arg instanceof v?e.arg.abs():o.handleDivide(e.arg,v.Neg).collect(t),e.isEven()?new h(e.type,n):new o(v.Neg,new h(e.type,n))}return e}}),_.extend(h,{create:function(t,e){var n=t[0],r=t[1];r&&r.equals(v.Neg)&&(n="arc"+n,r=void 0);var i=new h(n,e);return e.hints.parens||(i=i.addHint("open")),r&&(i.exp=r),i},sin:function(t){return new h("sin",t)},cos:function(t){return new h("cos",t)},sinh:function(t){return new h("sinh",t)},cosh:function(t){return new h("cosh",t)}});function f(t){this.arg=t}f.prototype=new u,_.extend(f.prototype,{func:f,args:function(){return[this.arg]},eval:function(t,e){return Math.abs(this.arg.eval(t,e))},codegen:function(){return"Math.abs("+this.arg.codegen()+")"},print:function(){return"abs("+this.arg.print()+")"},tex:function(){return"\\left|"+this.arg.tex()+"\\right|"},collect:function(t){var e=this.recurse("collect",t);if(e.arg.isPositive())return e.arg;if(e.arg instanceof v)return e.arg.abs();if(e.arg instanceof o){var n=_.groupBy(e.arg.terms,function(t){return t.isPositive()?"positive":t instanceof v?"number":"other"}),r=n.positive.concat(_.invoke(n.number,"abs"));return n.other.length&&r.push(new f(new o(n.other).flatten())),new o(r).flatten()}return e},expand:function(){var t=this.recurse("expand");if(t.arg instanceof o){return new o(_.map(t.arg.terms,function(t){return new f(t)}))}return t},isPositive:function(){return!0}});function p(t,e,n){this.left=t,this.type=e,this.right=n}p.prototype=new u,_.extend(p.prototype,{func:p,args:function(){return[this.left,this.type,this.right]},needsExplicitMul:function(){return!1},print:function(){return this.left.print()+this.type+this.right.print()},signs:{"=":" = ","<":" < ",">":" > ","<>":" \\ne ","<=":" \\le ",">=":" \\ge "},tex:function(){return this.left.tex()+this.signs[this.type]+this.right.tex()},normalize:function(){var t=this.recurse("normalize");return _.contains([">",">="],t.type)?new p(t.right,t.type.replace(">","<"),t.left):t},asExpr:function(t){var e=function(t){return t instanceof v&&t.isSimple()&&0===t.eval()},n=[];this.left instanceof a?n=_.clone(this.left.terms):e(this.left)||(n=[this.left]),this.right instanceof a?n=n.concat(this.right.negate().terms):e(this.right)||n.push(this.right.negate());var r=!this.isEquality();n=_.invoke(n,"collect",{preciseFloats:!0});for(var i=0;i<n.length;i++){var u=n[i].getDenominator();r&&!u.isPositive()&&(u=u.asPositiveFactor()),u.equals(v.One)||(n=_.map(n,function(t){return o.createOrAppend(t,u).simplify({once:!0,preciseFloats:!0})}))}var s=new a(n).flatten();return t?s:this.divideThrough(s)},divideThrough:function(t){var e=!this.isEquality(),n=t.simplify({once:!0}),r=n.factor({keepNegative:e});if(!(r instanceof o))return t;var i=r.terms,u=_.groupBy(i,function(t){return t instanceof a}),s=u[!0]||[],l=u[!1]||[];if(s.length&&this.isEquality())return new o(s).flatten();var h=l;s.length||(h=_.reject(h,function(t){return!!t.getVars().length})),e&&(h=_.invoke(h,"asPositiveFactor")),h=_.reject(h,function(t){return t.equals(v.One)}),h=_.map(h,function(t){return new c(t,v.Div)});var f=new o(i.concat(h)).collect();return f.equals(r)?n:f},isEquality:function(){return _.contains(["=","<>"],this.type)},compare:function(t){if(!(t instanceof p))return!1;var e=this.normalize(),n=t.normalize();if(e.type!==n.type)return!1;var r=e.divideThrough(e.asExpr(!0).collect()),i=n.divideThrough(n.asExpr(!0).collect());return e.isEquality()?r.compare(i)||r.compare(o.handleNegative(i)):r.compare(i)},sameForm:function(t){var e=this.normalize(),n=t.normalize(),r=e.left.sameForm(n.left)&&e.right.sameForm(n.right);return e.isEquality()?r||e.left.sameForm(n.right)&&e.right.sameForm(n.left):r},isSimplified:function(){var t=this.asExpr(!0),e=this.divideThrough(t).simplify();return t.equals(e)&&this.left.isSimplified()&&this.right.isSimplified()}}),_.extend(p.prototype,{solveLinearEquationForVariable:function(t){var e=this.asExpr();if(!e.is(a)||2!==e.terms.length)throw new Error("Can only handle linear equations of the form a + bx (= 0)");var n,r;(i=e.terms[0]).has(d)&&_.contains(i.getVars(),t.symbol)?(n=o.handleNegative(e.terms[1]),r=o.handleDivide(e.terms[0],t)):(n=o.handleNegative(e.terms[0]),r=o.handleDivide(e.terms[1],t));var i;return o.handleDivide(n,r).simplify()}});function y(){}y.prototype=new u,_.extend(y.prototype,{needsExplicitMul:function(){return!1},findGCD:function(t){return t instanceof y||t instanceof v?this.equals(t)?this:v.One:t.findGCD(this)}});function g(t,e){this.symbol=t,this.arg=e}g.prototype=new y,_.extend(g.prototype,{func:g,args:function(){return[this.symbol,this.arg]},print:function(){return this.symbol+"("+this.arg.print()+")"},tex:function(){return this.symbol+"("+this.arg.tex()+")"},eval:function(e,n){var r=this.arg,i=e[this.symbol],u=_.extend(_.clone(e),{x:r.eval(e,n)}),s=t.parse(i,n);return s.parsed?s.expr.eval(u,n):s},codegen:function(){return'vars["'+this.symbol+'"]('+this.arg.codegen()+")"},getUnits:function(){return this.arg.getUnits()},getVars:function(t){return t?this.arg.getVars():_.union(this.arg.getVars(),[this.symbol]).sort()},getConsts:function(){return this.arg.getConsts()}});function d(t,e){this.symbol=t,this.subscript=e}d.prototype=new y,_.extend(d.prototype,{func:d,args:function(){return[this.symbol,this.subscript]},exprArgs:function(){return[]},recurse:function(){return this},print:function(){var t="";return this.subscript&&(t="_("+this.subscript.print()+")"),this.symbol+t},prettyPrint:function(){var t=this.subscript;return t&&(t instanceof v||t instanceof y)?this.symbol+"_"+t.print():this.print()},tex:function(){var t="";this.subscript&&(t="_{"+this.subscript.tex()+"}");return(this.symbol.length>1?"\\":"")+this.symbol+t},repr:function(){return"Var("+this.print()+")"},eval:function(t,e){return t[this.prettyPrint()]},codegen:function(){return'vars["'+this.prettyPrint()+'"]'},getVars:function(){return[this.prettyPrint()]},isPositive:function(){return!1}});function m(t){this.symbol=t}m.prototype=new y,_.extend(m.prototype,{func:m,args:function(){return[this.symbol]},recurse:function(){return this},eval:function(t,e){return"pi"===this.symbol?Math.PI:"e"===this.symbol?Math.E:void 0},codegen:function(){return"pi"===this.symbol?"Math.PI":"e"===this.symbol?"Math.E":void 0},print:function(){return this.symbol},tex:function(){return"pi"===this.symbol?"\\pi ":"e"===this.symbol?"e":void 0},isPositive:function(){return this.eval()>0},abs:function(){return this.eval()>0?this:o.handleNegative(this)},getConsts:function(){return[this.print()]}}),m.e=new m("e"),m.pi=new m("pi");function v(){}v.prototype=new u,_.extend(v.prototype,{repr:function(){return this.print()},strip:function(){return this.abs()},recurse:function(){return this},codegen:function(){return this.print()},add:e,mul:e,negate:e,isSubtract:function(){return this.hints.subtract},abs:e,needsExplicitMul:function(){return!0},findGCD:e,isPositive:function(){return this.eval()>0},isNegative:function(){return this.eval()<0},asPositiveFactor:function(){return this.isPositive()?this:this.abs()},hints:_.extend(v.prototype.hints,{negate:!1,subtract:!1,divide:!1,root:!1,fraction:!1,entered:!1}),isSimple:e,getDecimalPlaces:function(){var t=(""+this.n).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0},asRational:e});function E(t,e){var n=t,r=e;r<0&&(n=-n,r=-r),this.n=n,this.d=r}E.prototype=new v,_.extend(E.prototype,{func:E,args:function(){return[this.n,this.d]},eval:function(){return this.n/this.d},print:function(){return this.n.toString()+"/"+this.d.toString()},tex:function(){var t="\\frac{"+Math.abs(this.n).toString()+"}{"+this.d.toString()+"}";return this.n<0?"-"+t:t},add:function(t,e){return t instanceof E?new E(this.n*t.d+this.d*t.n,this.d*t.d).collect():t.add(this,e)},mul:function(t,e){return t instanceof E?new E(this.n*t.n,this.d*t.d).collect():t.mul(this,e)},collect:function(){var t=v.findGCD(this.n,this.d),e=this.n/t,n=this.d/t;return 1===n?new x(e):new E(e,n)},negate:function(){return new E(-this.n,this.d)},abs:function(){return new E(Math.abs(this.n),this.d)},findGCD:function(t){if(t instanceof E){return new E(v.findGCD(this.n*t.d,t.n*this.d),this.d*t.d).collect()}return t instanceof x?new E(v.findGCD(this.n,t.n),this.d):t.findGCD(this)},raiseToThe:function(t){if(t instanceof x){var e=t.eval()>0,n=t.abs().eval(),r=Math.pow(this.n,n),i=Math.pow(this.d,n);return e?new E(r,i).collect():new E(i,r).collect()}return new b(this.eval()).raiseToThe(t)},getDenominator:function(){return new x(this.d)},isSimple:function(){return!1},asRational:function(){return this}});function x(t){this.n=t}x.prototype=new E(0,1),_.extend(x.prototype,{func:x,args:function(){return[this.n]},print:function(){return this.n.toString()},tex:function(){return this.n.toString()},negate:function(){return new x(-this.n)},abs:function(){return new x(Math.abs(this.n))},isSimple:function(){return!0},findGCD:function(t){return t instanceof x?new x(v.findGCD(this.n,t.n)):t.findGCD(this)}}),_.extend(x,{create:function(t){return new x(t).addHint("entered")}});function b(t){this.n=t}b.prototype=new v,_.extend(b.prototype,{func:b,args:function(){return[this.n]},eval:function(){return this.n},print:function(){return this.n.toString()},tex:function(){return this.n.toString()},add:function(t,e){return e&&e.preciseFloats?b.toDecimalPlaces(this.n+t.eval(),Math.max(this.getDecimalPlaces(),t.getDecimalPlaces())):new b(this.n+t.eval()).collect()},mul:function(t,e){return e&&e.preciseFloats?b.toDecimalPlaces(this.n*t.eval(),this.getDecimalPlaces()+t.getDecimalPlaces()):new b(this.n*t.eval()).collect()},collect:function(){return this},negate:function(){return new b(-this.n)},abs:function(){return new b(Math.abs(this.n))},findGCD:function(t){return t instanceof v?new b(v.findGCD(this.eval(),t.eval())).collect():t.findGCD(this)},raiseToThe:function(t,e){return e&&e.preciseFloats&&t instanceof x&&t.n>1?b.toDecimalPlaces(new c(this,t).eval(),this.getDecimalPlaces()*t.n):new b(new c(this,t).eval()).collect()},asRational:function(){var t=this.n.toString().split(".");if(1===t.length)return new E(this.n,1);return new E(Number(t.join("")),Math.pow(10,t[1].length)).collect()},getDenominator:function(){return this.asRational().getDenominator()},isSimple:function(){return!0}}),_.extend(b,{create:function(t){return new b(t).addHint("entered")},toDecimalPlaces:function(t,e){return new b(+t.toFixed(Math.min(e,20))).collect()}}),_.extend(v,{negativeOne:function(t){return"subtract"===t?v.Sub:"divide"===t?v.Div:v.Neg},findGCD:function(t,e){var n;if(t=Math.abs(t),e=Math.abs(e),t!==Math.floor(t)||e!==Math.floor(e))return 1;for(;e;)n=t%e,t=e,e=n;return t},min:function(){return _.min(_.toArray(arguments),function(t){return t.eval()})},max:function(){return _.max(_.toArray(arguments),function(t){return t.eval()})}}),v.Neg=new x(-1).addHint("negate"),v.Sub=new x(-1).addHint("subtract"),v.Div=new x(-1).addHint("divide"),v.Sqrt=new E(1,2).addHint("root"),v.Zero=new x(0),v.One=new x(1),v.Ten=new x(10),a.prototype.identity=v.Zero,o.prototype.identity=v.One;var w=t.parser;w.yy={Add:a,Mul:o,Pow:c,Log:l,Trig:h,Eq:p,Abs:f,Func:g,Const:m,Var:d,Int:x,Float:b,parseError:function(t,e){throw new Error(e.loc.first_column)},constants:["e"],symbolLexer:function(t){return _.contains(w.yy.constants,t)?"CONST":_.contains(w.yy.functions,t)?"FUNC":"VAR"}},t.parse=function(t,e){try{e&&e.functions?w.yy.functions=_.without(e.functions,"i"):w.yy.functions=[],e&&e.decimal_separator&&(t=t.split(e.decimal_separator).join("."));return{parsed:!0,expr:w.parse(t).completeParse()}}catch(t){return{parsed:!1,error:t.message}}};function A(t){this.symbol=t}A.prototype=new y;var F=function(t){if(_(D).has(t)||_(I).has(t))return new A(t);var e=_(_(k).keys()).find(function(e){return new RegExp("^"+e).test(t)});if(e){var n=t.replace(new RegExp("^"+e),"");if(_(D).has(n)||I[n]&&I[n].prefixes===C)return new o(k[e],new A(n));throw new Error(n+" does not allow prefixes")}return new A(t)};t.unitParse=function(e){try{var n=t.unitParser.parse(e),r=[];_(n.unit.num).each(function(t){r.push(new c(F(t.name),new x(t.pow)))}),_(n.unit.denom).each(function(t){r.push(new c(F(t.name),new x(-1*t.pow)))});var i=new o(r).flatten();if("unitMagnitude"===n.type){return{parsed:!0,unit:i,expr:new o([new b(+n.magnitude)].concat(r)),coefficient:n.magnitude,type:n.type}}return{parsed:!0,unit:i,type:n.type}}catch(t){return{parsed:!1,error:t.message}}},_.extend(A.prototype,{func:A,args:function(){return[this.symbol]},recurse:function(){return this},eval:function(t,e){return 1},getUnits:function(){return[{unit:this.symbol,pow:1}]},codegen:function(){return"1"},print:function(){return this.symbol},tex:function(){return this.symbol},collect:function(t){if(_(D).has(this.symbol))return this;if(_(I).has(this.symbol))return I[this.symbol].conversion;throw new Error("could not understand unit: "+this.symbol)}});var D={m:new A("m"),g:new A("g"),s:new A("s"),A:new A("A"),K:new A("K"),mol:new A("mol"),cd:new A("cd")},k={a:new c(new x(10),new x(-18)),f:new c(new x(10),new x(-15)),p:new c(new x(10),new x(-12)),n:new c(new x(10),new x(-9)),u:new c(new x(10),new x(-6)),m:new c(new x(10),new x(-3)),c:new c(new x(10),new x(-2)),d:new c(new x(10),new x(-1)),da:new x(10),h:new c(new x(10),new x(2)),k:new c(new x(10),new x(3)),M:new c(new x(10),new x(6)),G:new c(new x(10),new x(9)),T:new c(new x(10),new x(12)),P:new c(new x(10),new x(15)),E:new c(new x(10),new x(18)),hella:new c(new x(10),new x(27))},C={},S={},M=function(e,n){var r=e.split("|"),i=r[0].trim(),u=r[1].trim(),s=v.One;""!==i&&(s=t.parse(i).expr);var a=u.split("/"),l=[s];return a[0]&&a[0].split(" ").filter(function(t){return""!==t}).map(function(t){l.push(new A(t))}),a[1]&&a[1].split(" ").filter(function(t){return""!==t}).map(function(t){l.push(new c(new A(t),v.Div))}),{conversion:new o(l),prefixes:n}},I={Da:M("1.6605388628 x 10^-24 | g",C),u:M("| Da",S),meter:M("| m",S),meters:M("| m",S),in:M("254 / 10000 | m",S),ft:M("3048  / 10000 | m",S),yd:M("9144  / 10000 | m",S),mi:M("1609344 / 1000 | m",S),ly:M("9.4607 x 10^15 | m",S),nmi:M("1852 | m",S),"Å":M("10^-10 | m",S),pc:M("3.0857 x 10^16 | m",S),min:M("60 | s",S),hr:M("3600 | s",S),sec:M("| s",S),day:M("86400 | s",S),wk:M("604800 | s",S),fortnight:M("14 | day",S),shake:M("10^-8 | s",S),olympiad:M("126200000 | s",S),"°C":M("1 | K",S),"°F":M("5/9 | K",S),"°R":M("5/9 | K",S),e:M("1.6021765314 x 10^-19 | C",S),c:M("299792458 | m / s",S),kn:M("514/1000 | m / s",S),kt:M("| kn",S),knot:M("| kn",S),J:M("| N m",C),BTU:M("1060 | J",S),cal:M("4184 / 1000 | J",C),eV:M("1.602176514 x 10^-19 | J",C),erg:M("10^−7 | J",C),W:M("| J / s",C),"H-e":M("80 | W",S),N:M("1000 | g m / s s",C),lb:M("4448221615 / 1000000000 | N",S),dyn:M("10^-5 | N",S),Pa:M("1 | N / m m m",C),bar:M("10^5 | Pa",C),"㏔":M("1/1000 | bar",S),"㍴":M("| bar",S),atm:M("101325 | Pa",S),Torr:M("1/760 | atm",S),mmHg:M("| Torr",S),ha:M("10^4 | m m",S),b:M("10^−28 | m m",C),barn:M("| b",C),acre:M("4046.87 | m m",S),skilodge:M("10^-31 | m m",S),outhouse:M("10^-34 | m m",S),shed:M("10^-52 | m m",S),L:M("1/1000 | m m m",C),gal:M("3785/1000 | L",C),cup:M("1/16 | gal",S),qt:M("1/4 | gal",S),quart:M("| qt",S),p:M("1/8 | gal",S),pt:M("| p",S),pint:M("| p",S),"fl oz":M("1/8 | cup",S),"fl. oz.":M("1/8 | cup",S),tbsp:M("1/16 | cup",S),tsp:M("1/3 | tbsp",S),rev:M("2 pi | rad",S),deg:M("180 pi | rad",S),"°":M("| deg",S),arcminute:M("1/60 | deg",S),arcsec:M("1/3600 | deg",S),Hu:M("1000 | dB",C),dozen:M("12 |",S),mol:M("6.0221412927 x 10^23 |",C),"%":M("1/100 |",S),percent:M("| %",S),ppm:M("1/1000000 |",S),V:M("1000 | g m m / s s C",C),C:M("| A s",C),ampere:M("| A",S),"Ω":M("| V / A",C),ohm:M("| Ω",S),F:M("| C / V",C),H:M("| ohm s",C),T:M("1000 | g / C s",C),Wb:M("1000 | g m m / C s",C),lm:M("pi x 10^4 | cd / m m",S),lx:M("| lm / m m",S),nit:M("| cd / m m",S),sb:M("10^4 | cd / m m",S),stilb:M("1 | sb",S),apostilb:M("1 / pi x 10^(-4) | sb",S),blondel:M("| apostilb",S),asb:M("| apostilb",S),la:M("| lm",S),Lb:M("| lm",S),sk:M("10^-7 | lm",S),skot:M("| sk",S),bril:M("10^-11 | lm",S),Hz:M("| / s",C)};t.Add=a,t.Mul=o,t.Pow=c,t.Log=l,t.Eq=p,t.Trig=h,t.Abs=f,t.Func=g,t.Var=d,t.Const=m,t.Unit=A,t.Rational=E,t.Int=x,t.Float=b,t.Zero=v.Zero,t.One=v.One}(t.KAS),t.KAS.compare=function(t,e,n){var r={form:!1,simplify:!1};n=void 0!==n?_.extend(r,n):r;var i=t.sameVars(e);if(!i.equal){var u=null;return i.equalIgnoringCase&&(u="Some of your variables are in the wrong case (upper vs. lower)."),{equal:!1,message:u}}return t.compare(e)?n.form&&!t.sameForm(e)?{equal:!1,message:"Your answer is not in the correct form."}:n.simplify&&!t.isSimplified()?{equal:!1,message:"Your answer is not fully expanded and simplified."}:{equal:!0,message:null}:{equal:!1,message:null}}}(this),function(t,e){"use strict";if(t.hasOwnProperty("ActiveXObject")&&(t.ActiveXObject=e),t.Blob=e,t.clearInterval=e,t.clearTimeout=e,t.eval=e,t.fetch&&(t.fetch=e),t.Function=e,t.importScripts=e,t.indexedDB)try{t.indexedDB=e}catch(n){t.indexedDB.open=e,t.indexedDB.deleteDatabase=e,t.indexedDB.cmp=e,t.indexedDB.webkitGetDatabaseNames=e}if(t.mozIndexedDB)try{t.mozIndexedDB=e}catch(n){t.mozIndexedDB.open=e,t.mozIndexedDB.deleteDatabase=e,t.mozIndexedDB.cmp=e}if(t.msIndexedDB)try{t.msIndexedDB=e}catch(n){t.msIndexedDB.open=e,t.msIndexedDB.deleteDatabase=e,t.msIndexedDB.cmp=e}if(t.requestFileSystem&&(t.requestFileSystem=e),t.requestFileSystemSync&&(t.requestFileSystemSync=e),t.resolveLocalFileSystemURL&&(t.resolveLocalFileSystemURL=e),t.resolveLocalFileSystemSyncURL&&(t.resolveLocalFileSystemSyncURL=e),t.setInterval=e,t.setTimeout=e,t.XMLHttpRequest=e,t.webkitIndexedDB)try{t.webkitIndexedDB=e}catch(n){t.webkitIndexedDB.open=e,t.webkitIndexedDB.deleteDatabase=e,t.webkitIndexedDB.cmp=e,t.webkitIndexedDB.webkitGetDatabaseNames=e}t.webkitRequestFileSystem&&(t.webkitRequestFileSystem=e),t.webkitRequestFileSystemSync&&(t.webkitRequestFileSystemSync=e),t.webkitResolveLocalFileSystemURL&&(t.webkitResolveLocalFileSystemURL=e),t.webkitResolveLocalFileSystemSyncURL&&(t.webkitResolveLocalFileSystemSyncURL=e),t.Worker&&(t.Worker=e),t.soundex=function(t){if(!(t=(t+"").toUpperCase()))return"";for(var e,n,r,i=[0,0,0,0],u={B:1,F:1,P:1,V:1,C:2,G:2,J:2,K:2,Q:2,S:2,X:2,Z:2,D:3,T:3,L:4,M:5,N:5,R:6},s=0,a=0;(n=t.charAt(s++))&&a<4;)(e=u[n])?e!==r&&(i[a++]=r=e):(a+=1===s,r=0);return i[0]=t.charAt(0),i.join("")},t.metaphone=function(t,e){var n=typeof t;if("undefined"===n||"object"===n&&null!==t)return null;if("number"===n&&(isNaN(t)?t="NAN":isFinite(t)||(t="INF")),e<0)return!1;e=Math.floor(+e)||0;var r="ABCDEFGHIJKLMNOPQRSTUVWXYZ",i=new RegExp("^[^"+r+"]+");if(!(t=(t="string"==typeof t?t:"").toUpperCase().replace(i,"")))return"";var u,s,a=function(t,e){return""!==e&&-1!==t.indexOf(e)},o=0,c=t.charAt(0),l=t.charAt(1),h=t.length,f="";switch(c){case"A":f+="E"===l?l:c,o+=1;break;case"G":case"K":case"P":"N"===l&&(f+=l,o+=2);break;case"W":"R"===l?(f+=l,o+=2):("H"===l||a("AEIOU",l))&&(f+="W",o+=2);break;case"X":f+="S",o+=1;break;case"E":case"I":case"O":case"U":f+=c,o++}for(;o<h&&(0===e||f.length<e);o+=1)if(c=t.charAt(o),l=t.charAt(o+1),s=t.charAt(o-1),u=t.charAt(o+2),c!==s||"C"===c)switch(c){case"B":"M"!==s&&(f+=c);break;case"C":a("EIY",l)?"I"===l&&"A"===u?f+="X":"S"!==s&&(f+="S"):"H"===l?(f+="X",o+=1):f+="K";break;case"D":"G"===l&&a("EIY",u)?(f+="J",o+=1):f+="T";break;case"G":"H"===l?a("BDH",t.charAt(o-3))||"H"===t.charAt(o-4)||(f+="F",o+=1):"N"===l?a(r,u)&&"NED"!==t.substr(o+1,3)&&(f+="K"):a("EIY",l)&&"G"!==s?f+="J":f+="K";break;case"H":a("AEIOU",l)&&!a("CGPST",s)&&(f+=c);break;case"K":"C"!==s&&(f+="K");break;case"P":f+="H"===l?"F":c;break;case"Q":f+="K";break;case"S":"I"===l&&a("AO",u)?f+="X":"H"===l?(f+="X",o+=1):f+="S";break;case"T":"I"===l&&a("AO",u)?f+="X":"H"===l?(f+="0",o+=1):"CH"!==t.substr(o+1,2)&&(f+="T");break;case"V":f+="F";break;case"W":case"Y":a("AEIOU",l)&&(f+=c);break;case"X":f+="KS";break;case"Z":f+="S";break;case"F":case"J":case"L":case"M":case"N":case"R":f+=c}return f},t.removeDiacritics=function(t){var e={A:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g,AA:/[\uA732]/g,AE:/[\u00C6\u01FC\u01E2]/g,AO:/[\uA734]/g,AU:/[\uA736]/g,AV:/[\uA738\uA73A]/g,AY:/[\uA73C]/g,B:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g,C:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g,D:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g,DZ:/[\u01F1\u01C4]/g,Dz:/[\u01F2\u01C5]/g,E:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g,F:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g,G:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g,H:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g,I:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g,J:/[\u004A\u24BF\uFF2A\u0134\u0248]/g,K:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g,L:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g,LJ:/[\u01C7]/g,Lj:/[\u01C8]/g,M:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g,N:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g,NJ:/[\u01CA]/g,Nj:/[\u01CB]/g,O:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g,OI:/[\u01A2]/g,OO:/[\uA74E]/g,OU:/[\u0222]/g,P:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g,Q:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g,R:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g,S:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g,T:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g,TZ:/[\uA728]/g,U:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g,V:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g,VY:/[\uA760]/g,W:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g,X:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g,Y:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g,Z:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g,a:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g,aa:/[\uA733]/g,ae:/[\u00E6\u01FD\u01E3]/g,ao:/[\uA735]/g,au:/[\uA737]/g,av:/[\uA739\uA73B]/g,ay:/[\uA73D]/g,b:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g,c:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g,d:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g,dz:/[\u01F3\u01C6]/g,e:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g,f:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g,g:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g,h:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g,hv:/[\u0195]/g,i:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g,j:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g,k:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g,l:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g,lj:/[\u01C9]/g,m:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g,n:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g,nj:/[\u01CC]/g,o:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g,oi:/[\u01A3]/g,ou:/[\u0223]/g,oo:/[\uA74F]/g,p:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g,q:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g,r:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g,s:/[\u0073\u24E2\uFF53\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g,ss:/[\u00DF]/g,t:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g,tz:/[\uA729]/g,u:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g,v:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g,vy:/[\uA761]/g,w:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g,x:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g,y:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g,z:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g};for(var n in e)t=t.replace(e[n],n);return t},Array.prototype.equals=function(t){if(!t)return!1;if(this.length!==t.length)return!1;for(var e=0,n=this.length;e<n;e++)if(this[e]instanceof Array&&t[e]instanceof Array){if(!this[e].equals(t[e]))return!1}else if(this[e]!==t[e])return!1;return!0},Object.defineProperty(Array.prototype,"equals",{enumerable:!1}),t.Formula=function(e){if(!(this instanceof t.Formula))return new t.Formula(e);try{this._expression=e,this._ast=t.KAS.parse(e).expr}catch(t){var n=new Error("Error parsing `"+e+"`");throw n.originalError=t,n}},t.Formula.prototype.equals=function(e){var n,r=!1;try{n=t.KAS.parse(e).expr}catch(t){var i=new Error("Error parsing `"+e+"`");throw i.originalError=t,i}try{r=t.KAS.compare(this._ast,n).equal}catch(t){}return r}}(this);